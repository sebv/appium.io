<!DOCTYPE html>
<html>
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <title>API Reference</title>

    <link href="../../stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen">
    <link href="../../stylesheets/print.css" rel="stylesheet" type="text/css" media="print">
    <link href="../../stylesheets/custom_appium.css" rel="stylesheet" type="text/css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="../../javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["ruby","python","java","javascript","php","csharp"]);
        });
      </script>
  </head>

  <body class="index">
    <div class="tocify-wrapper">
      <img src="../../images/logo.png">
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href="https://github.com/appium/ruby_lib">Ruby bindings</a></li>
            <li><a href="https://github.com/appium/python-client">Python bindings</a></li>
            <li><a href="https://github.com/appium/java-client">Java bindings</a></li>
            <li><a href="https://github.com/admc/wd">JavaScript bindings</a></li>
            <li><a href="https://github.com/appium/php-client">PHP bindings</a></li>
            <li><a href="https://github.com/appium/appium-dotnet-driver">C# bindings</a></li>
            <li><a href="http://appium.io/">Appium home page</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction-to-appium">
<span id="intro.md"></span>Introduction to Appium</h1>

<p>Appium is an open-source tool you can use to automate mobile native,
mobile web, and mobile hybrid applications on iOS and Android platforms.
“Mobile native apps” are those written using the iOS or Android SDKs. “Mobile
web apps” are web apps accessed using a mobile browser (Appium supports
Safari on iOS and Chrome on Android). “Mobile hybrid apps” have a native
wrapper around a “webview” – a native control that enables interaction with
web content. Projects like <a href="http://phonegap.com/">Phonegap</a>, for example,
make it easy to build apps using web technologies that are then bundled into
a native wrapper – these are hybrid apps.</p>

<p>Importantly, Appium is “cross-platform”: it allows you to write tests against
multiple platforms (iOS, Android), using the same API. This enables a large
or total amount of code reuse between iOS and Android testsuites.</p>

<p>For specific information about what it means for Appium to “support” its
platforms, version, and automation modalities, please see the <a href="#platform-support.md">platform support doc</a>.</p>

<h2 id="appium-philosophy">Appium Philosophy</h2>

<p>Appium was designed to meet mobile automation needs according to a certain
philosophy. The key points of this philosophy can be stated as 4 requirements:</p>

<ol>
<li>You shouldn’t have to recompile your app or modify it in any way in order
to automate it.</li>
<li>You shouldn’t be locked into a specific language or framework to write and
run your tests.</li>
<li>A mobile automation framework shouldn’t reinvent the wheel when it comes
to automation APIs.</li>
<li>A mobile automation framework should be open source,
in spirit and practice as well as in name!</li>
</ol>

<h2 id="appium-design">Appium Design</h2>

<p>So how does the structure of the Appium project live out this philosophy? We
meet requirement #1 by using vendor-provided automation frameworks under the
hood. That way, we don’t need to compile in any Appium-specific or
third-party code or frameworks to your app. This means you’re testing the
same app you’re shipping. The vendor-provided frameworks we use are:</p>

<ul>
<li>iOS: Apple’s <a href="https://developer.apple.com/library/ios/documentation/DeveloperTools/Reference/UIAutomationRef/_index.html">UIAutomation</a>
</li>
<li>Android 4.2+: Google’s <a href="http://developer.android.com/tools/help/uiautomator/index.html">UiAutomator</a>
</li>
<li>Android 2.3+: Google’s <a href="http://developer.android.com/reference/android/app/Instrumentation.html">Instrumentation</a>. (Instrumentation support is provided by bundling a separate project, <a href="http://selendroid.io">Selendroid</a>)</li>
</ul>

<p>We meet requirement #2 by wrapping the vendor-provided frameworks in one API,
the <a href="http://docs.seleniumhq.org/projects/webdriver/">WebDriver</a> API.
WebDriver (aka “Selenium WebDriver”) specifies a client-server protocol
(known as the <a href="https://code.google.com/p/selenium/wiki/JsonWireProtocol">JSON Wire Protocol</a>).
Given this client-server architecture, a client written in any language can
be used to send the appropriate HTTP requests to the server. There are
already clients written in every popular programming language. This also
means that you’re free to use whatever test runner and test framework you
want; the client libraries are simply HTTP clients and can be mixed into your
code any way you please. In other words, Appium &amp; WebDriver clients are not
technically “test frameworks” – they are “automation libraries”. You can
manage your test environment any way you like!</p>

<p>We meet requirement #3 in the same way: WebDriver has become the de facto
standard for automating web browsers, and is a <a href="https://dvcs.w3.org/hg/webdriver/raw-file/tip/webdriver-spec.html">W3C Working Draft</a>.
Why do something totally different for mobile? Instead we have <a href="https://code.google.com/p/selenium/source/browse/spec-draft.md?repo=mobile">extended the protocol</a>
with extra API methods useful for mobile automation.</p>

<p>It should be obvious that requirement #4 is a given – you’re reading this
because <a href="https://github.com/appium/appium">Appium is open source</a>.</p>

<h2 id="appium-concepts">Appium Concepts</h2>

<p><strong>Client/Server Architecture</strong><br>
Appium is at its heart a webserver that exposes a REST API. It receives
connections from a client, listens for commands, executes those commands on a
mobile device, and responds with an HTTP response representing the result of
the command execution. The fact that we have a client/server architecture
opens up a lot of possibilities: we can write our test code in any language
that has a HTTP client API, but it is easier to use one of the existing Appium
client library. We can put the server on a different machine than our
tests are running on. We can write test code and rely on a cloud service
like <a href="https://saucelabs.com/mobile">Sauce Labs</a> to receive and interpret the commands.</p>

<p><strong>Session</strong><br>
Automation is always performed in the context of a session. Clients initiate
a session with a server in ways specific to each library,
but they all end up sending a <code class="prettyprint">POST /session</code> request to the server,
with a JSON object called  the ‘desired capabilities’ object. At this point
the server will start up the automation session and respond with a session ID
which can be used in sending further commands.</p>

<p><strong>Desired Capabilities</strong><br>
Desired capabilities are sets of keys and values (i.e.,
a map or hash) sent to the Appium server to tell the server what kind of
automation session we’re interested in starting up. There are also various
capabilities which can modify the behavior of the server during automation.
For example, we might set the <code class="prettyprint">platformName</code> capability to <code class="prettyprint">iOS</code> to tell
Appium that we want an iOS session, rather than an Android one. Or we might
set the <code class="prettyprint">safariAllowPopups</code> capability to <code class="prettyprint">true</code> in order to ensure that,
during a Safari automation session, we’re allowed to use JavaScript to open
up new windows. See the <a href="#caps.md">capabilities doc</a> for the complete list of
capabilities available for Appium.</p>

<p><strong>Appium Server</strong><br>
Appium is a server written in Node.js. It can be built and installed from
source or directly from NPM.</p>

<p><strong>Appium Clients</strong><br>
There are client libraries (in Java, Ruby, Python, PHP, JavaScript, and C#)
which support Appium’s extensions to the WebDriver protocol. When using Appium,
you want to use these client libraries instead of your regular WebDriver
client. You can view the full list of libraries <a href="#appium-clients.md">here</a>.</p>

<p><strong><a href="https://github.com/appium/appium-dot-app">Appium.app</a>, <a href="https://github.com/appium/appium-dot-exe">Appium.exe</a></strong><br>
There exist GUI wrappers around the Appium server that can be downloaded.
These come bundled with everything required to run the Appium server,
so you don’t need to worry about Node. They also come with an Inspector,
which enables you to check out the hierarchy of your app. This can come in
very handy when writing tests!</p>

<h2 id="getting-started">Getting Started</h2>

<p>Congratulations! You are now armed with enough knowledge to begin using
Appium. Why not head back to the <a href="#README.md">getting started doc</a> for
more detailed requirements and instructions?</p>

<h1 id="appium">
<span id="README.md"></span>Appium</h1>

<p>Appium is an open source, cross-platform test automation tool for native, hybrid and mobile web apps, tested on simulators (iOS, FirefoxOS), emulators (Android), and real devices (iOS, Android, FirefoxOS).</p>

<p><strong>Note:</strong> we have just recently released Appium 1.0. If you already have a bunch of Appium tests, you might want to check out the <a href="#migrating-to-1-0.md">Migrating to 1.0</a> doc!</p>

<h2 id="supported-platforms">Supported Platforms</h2>

<ul>
<li>iOS</li>
<li>Android</li>
<li>FirefoxOS</li>
</ul>

<p>See the <a href="#platform-support.md">platform support doc</a> for more detailed information.</p>

<h2 id="why-appium?">Why Appium?</h2>

<ol>
<li>You don’t have to recompile your app or modify it in any way, due
to use of standard automation APIs on all platforms.</li>
<li>You can write tests with your favorite dev tools using any <a href="https://code.google.com/p/selenium/wiki/JsonWireProtocol">WebDriver</a>-compatible
language such as Java, <a href="https://github.com/appium/selenium-objective-c">Objective-C</a>,
JavaScript with Node.js (in <a href="https://github.com/admc/wd">promise, callback</a> or <a href="https://github.com/jlipps/yiewd">generator</a> flavors),
PHP, Python, <a href="https://github.com/appium/ruby_lib">Ruby</a>, C#, Clojure, or Perl
with the Selenium WebDriver API and language-specific client libraries.</li>
<li>You can use any testing framework.</li>
</ol>

<p>Investing in the <a href="https://code.google.com/p/selenium/wiki/JsonWireProtocol">WebDriver</a> protocol means you are betting on a single, free and open protocol for testing that has become a defacto standard. Don’t lock yourself into a proprietary stack.</p>

<p>If you use Apple’s UIAutomation library without Appium you can only write tests
using JavaScript and you can only run tests through the Instruments application.
Similarly, with Google’s UiAutomator you can only write tests in Java. Appium
opens up the possibility of true cross-platform native mobile automation. Finally!</p>

<h2 id="i-don't-get-it-yet...">I don’t get it yet…</h2>

<p>If you’re new to Appium, or want a fuller description of what this is all about, please read our <a href="#intro.md">Introduction to Appium Concepts</a>.</p>

<h2 id="requirements">Requirements</h2>

<p>Your environment needs to be setup for the particular mobile platforms that you
want to run tests on. See below for particular platform requirements.</p>

<p>If you want to run Appium via an <code class="prettyprint">npm install</code>, hack with or contribute to Appium, you will need
<a href="http://nodejs.org">node.js and npm</a> 0.10 or greater (use [n](https://github.com/visionmedia/n) or <code class="prettyprint">brew install node</code> to install Node.js. Make sure you have not installed Node or Appium with <code class="prettyprint">sudo</code>, otherwise you’ll run into problems). We recommend the latest stable version.</p>

<p>To verify that all of Appium’s dependencies are met you can use <code class="prettyprint">appium-doctor</code>.
Run <code class="prettyprint">appium-doctor</code> and supply the <code class="prettyprint">--ios</code> or <code class="prettyprint">--android</code> flags to verify that all
of the dependencies are set up correctly. If running from source, you may have to use
<code class="prettyprint">./bin/appium-doctor.js</code> or <code class="prettyprint">node bin/appium-doctor.js</code>.</p>

<p>You also need to download the Appium client for your language so you can write tests. The Appium clients are simple extensions to the WebDriver clients. You can see the list of clients and links to download instructions at the <a href="#appium-clients.md">Appium clients list</a>.</p>

<h3 id="ios-requirements">iOS Requirements</h3>

<ul>
<li>Mac OS X 10.7 or higher, 10.9.2 recommended</li>
<li>XCode &gt;= 4.6.3, 5.1.1 recommended</li>
<li>Apple Developer Tools (iPhone simulator SDK, command line tools)</li>
<li><a href="#running-on-osx.md">Ensure you read our documentation on setting yourself up for iOS testing!</a></li>
</ul>

<h3 id="android-requirements">Android Requirements</h3>

<ul>
<li>
<a href="http://developer.android.com">Android SDK</a> API &gt;= 17 (Additional features require 18/19)</li>
<li>Appium supports Android on OS X, Linux and Windows. Make sure you follow the
directions for setting up your environment properly for testing on different OSes:

<ul>
<li><a href="#running-on-linux.md">linux</a></li>
<li><a href="#running-on-osx.md">osx</a></li>
<li><a href="#running-on-windows.md">windows</a></li>
</ul>
</li>
</ul>

<h3 id="firefoxos-requirements">FirefoxOS Requirements</h3>

<ul>
<li><a href="https://developer.mozilla.org/en/docs/Tools/Firefox_OS_Simulator">Firefox OS Simulator</a></li>
</ul>

<h2 id="quick-start">Quick Start</h2>

<p>Kick up an Appium server, and then run a test written in your favorite <a href="https://code.google.com/p/selenium/wiki/JsonWireProtocol">WebDriver</a>-compatible language!
You can run an Appium server using node.js or using the application, see below.</p>

<h3 id="using-node.js">Using Node.js</h3>

<p>$ npm install -g appium
    $ appium &amp;</p>

<h3 id="using-the-app">Using the App</h3>

<ul>
<li><a href="https://github.com/appium/appium/releases">Download the Appium app</a></li>
<li>Run it!</li>
</ul>

<h2 id="writing-tests-for-appium">Writing Tests for Appium</h2>

<p>The main guide for getting started writing and running tests is <a href="#running-tests.md">the running tests</a> doc, which includes explanations for iOS, Android, and Android older devices. If you’re interested in testing on physical hardware, you might be interested in our <a href="#real-devices.md">real devices guide</a>.</p>

<p>Essentially, we support a subset of the <a href="https://code.google.com/p/selenium/wiki/JsonWireProtocol">Selenium WebDriver JSON Wire Protocol</a>, and extend it so that you can specify mobile-targeted <a href="#caps.md">desired capabilities</a> to run your test through Appium.</p>

<p>You find elements by using a subset of WebDriver’s element-finding strategies.
See <a href="#finding-elements.md">finding elements</a> for detailed information. We also have several extensions to the JSON Wire Protocol for <a href="#gestures.md">automating mobile gestures</a> like tap, flick, and swipe.</p>

<p>You can also automate web views in hybrid apps! See the <a href="#hybrid.md">hybrid app guide</a></p>

<p>This repository contains <a href="https://github.com/appium/appium/tree/master/sample-code/examples">many examples of tests in a variety of different languages</a>!</p>

<p>For the full list of Appium doc pages, visit <a href="#">this directory</a>.</p>

<h2 id="how-it-works">How It Works</h2>

<p>Appium drives various native automation frameworks and provides an API based on
Selenium’s <a href="https://code.google.com/p/selenium/wiki/JsonWireProtocol">WebDriver JSON wire protocol</a>.</p>

<p>Appium drives Apple’s UIAutomation library for iOS support, which is based on
<a href="http://github.com/penguinho">Dan Cuellar’s</a> work on iOS Auto.</p>

<p>Android support uses the UiAutomator framework for newer platforms and
<a href="http://github.com/DominikDary/selendroid">Selendroid</a> for older Android platforms.</p>

<p>FirefoxOS support leverages <a href="https://developer.mozilla.org/en-US/docs/Marionette">Marionette</a>,
an automation driver that is compatible with WebDriver and is used to automate
Gecko-based platforms.</p>

<h2 id="contributing">Contributing</h2>

<p>Please take a look at our <a href="#CONTRIBUTING.md">contribution documentation</a>
for instructions on how to build, test and run Appium from source.</p>

<h2 id="project-credits-&amp;-inspiration">Project Credits &amp; Inspiration</h2>

<p><a href="#credits.md">Credits</a></p>

<h2 id="mailing-list">Mailing List</h2>

<p>Announcements and debates often take place on the <a href="https://groups.google.com/d/forum/appium-discuss">Discussion Group</a>, be sure to sign up!</p>

<h2 id="troubleshooting">Troubleshooting</h2>

<p>We put together a <a href="#troubleshooting.md">troubleshooting guide</a>.
Please have a look here first if you run into any problems. It contains instructions for checking a lot
of common errors and how to get in touch with the community if you’re stumped.</p>

<h2 id="using-robots">Using Robots</h2>

<p>Using Appium with <a href="https://github.com/hugs/tapsterbot">Tapster</a> and other robots is possible,
check out the <a href="https://github.com/appium/robots">Appium Robots</a> project!</p>

<h1 id="appium-platform-support">
<span id="platform-support.md"></span>Appium Platform Support</h1>

<p>Appium supports a variety of platforms and testing modalities (native,
hybrid, web, real devices, simulators, etc…). This document is designed to
make explicit the level of support and requirements for each of these.</p>

<h2 id="ios-support">iOS Support</h2>

<p>See <a href="#running-on-osx.md">Running on OS X: iOS</a> for iOS requirements and setup
instructions.</p>

<ul>
<li>Versions: 6.1, 7.0, and 7.1</li>
<li>Devices: iPhone Simulator, iPad Simulator, and real iPhones and iPads</li>
<li>Native app support: Yes, with debug version of .app (simulator),
or correctly-signed .ipa (real devices). Underlying support is provided by
Apple’s <a href="https://developer.apple.com/library/ios/documentation/DeveloperTools/Reference/UIAutomationRef/_index.html">UIAutomation</a>
framework.</li>
<li>Mobile web support: Yes, via automation of mobile Safari. For real devices,
ios-webkit-remote-debugger is required, and automation of native aspects of
the Safari interface is not possible. See the <a href="#mobile-web.md">mobile web doc</a> for instructions.</li>
<li>Hybrid support: Yes. For real devices, ios-webkit-remote-debugger is
required. See the <a href="#hybrid.md">hybrid doc</a> for instructions.</li>
<li>Support for automating multiple apps in one session: No</li>
<li>Support for automating multiple devices simultaneously: No</li>
<li>Support for automating vendor-provided or third-party apps: Only
vendor-provided apps (Preferences, Maps, etc…), and only on the simulator</li>
</ul>

<h2 id="android-support">Android Support</h2>

<p>See <a href="#running-on-osx.md">Running on OS X: Android</a>,
<a href="#running-on-windows.md">Running on Windows</a>, or
<a href="#running-on-linux.md">Running on Linux</a> for Android requirements and setup
instructions.</p>

<ul>
<li>Versions: 2.3 and up

<ul>
<li>Versions 4.2 and up are supported via Appium’s own <a href="http://developer.android.com/tools/help/uiautomator/index.html">UiAutomator</a>
libraries. This is the default automation backend.</li>
<li>Versions 2.3 through 4.3 are supported via Appium’s bundled version of
<a href="http://selendroid.io">Selendroid</a>, which utilizes <a href="http://developer.android.com/reference/android/app/Instrumentation.html">Instrumentation</a>.
Selendroid has a different set of commands than the default Appium (though
this is rapidly being minimized) and a different support profile. To
access this automation backend, use the <code class="prettyprint">automationName</code> capability with
the value <code class="prettyprint">Selendroid</code>.</li>
</ul>
</li>
<li>Devices: Android emulators and real Android devices</li>
<li>Native app support: Yes</li>
<li>Mobile web support: Yes (but not when using Selendroid backend). Automation
is effected using a bundled <a href="https://code.google.com/p/selenium/wiki/ChromeDriver">Chromedriver</a>
server as a proxy. With 4.2 and 4.3, automation works on official Chrome
browser or Chromium only. With 4.4+, automation also works on the built-in
“Browser” app. Chrome/Chromium/Browser must already be installed on the
device under test. See the <a href="#mobile-web.md">mobile web doc</a> for instructions.</li>
<li>Hybrid support: Yes. See the <a href="#hybrid.md">hybrid doc</a> for instructions.

<ul>
<li>With default Appium automation backend: versions 4.4 and up</li>
<li>With Selendroid automation backend: versions 2.3 and up</li>
</ul>
</li>
<li>Support for automating multiple apps in one session: Yes (but not when
using the Selendroid backend)</li>
<li>Support for automating multiple devices simultaneously: Yes,
though Appium must be started using different ports for the server
parameters <code class="prettyprint">--port</code>, <code class="prettyprint">--bootstrap-port</code> (or <code class="prettyprint">--selendroid-port</code>) and/or
<code class="prettyprint">--chromedriver-port</code>. See the <a href="#server-args.md">server args doc</a> for more
information on these parameters.</li>
<li>Support for automating vendor-provided or third-party apps: Yes (but not
when using the Selendroid backend)</li>
</ul>

<h1 id="appium-on-real-ios-devices">
<span id="real-devices.md"></span>Appium on real iOS devices</h1>

<p>Appium has support for real device testing.</p>

<p>To get started on a real device, you will need the following:</p>

<ol>
<li>An Apple Developer ID and a valid Developer Account with a configured
distribution certificate and provisioning profile.</li>
<li>An iPad or iPhone.</li>
<li>The source code of your app.</li>
<li>A Mac with XCode and the XCode Command Line Developer Tools</li>
</ol>

<h2 id="provisioning-profile">Provisioning Profile</h2>

<p>A valid iOS Development Distribution Certificate and Provisioning Profile are
necessary to test on a real device. You can find information about
configuring these in the <a href="http://developer.apple.com/library/ios/#documentation/ToolsLanguages/Conceptual/YourFirstAppStoreSubmission/TestYourApponManyDevicesandiOSVersions/TestYourApponManyDevicesandiOSVersions.html">Apple documentation</a></p>

<p>You will also need to <a href="http://developer.apple.com/library/ios/#documentation/ToolsLanguages/Conceptual/YourFirstAppStoreSubmission/ProvisionYourDevicesforDevelopment/ProvisionYourDevicesforDevelopment.html#//apple_ref/doc/uid/TP40011375-CH4-SW1">sign your app</a>.</p>

<p>Appium will attempt to install your app using Fruitstrap,
but it is often easier to pre-install your app using Xcode to ensure there
are no problems.</p>

<h2 id="running-your-tests-with-appium">Running your tests with Appium</h2>

<p>Once your device and app are configured, you can run tests on that device by
passing the -U flag to the server, and passing the bundle ID (if the app is
installed on the device) or the path to the .ipa file via the <code class="prettyprint">--app</code> flag or
 the <code class="prettyprint">app</code> desired capability:</p>
<pre class="highlight plaintext">node . -U &lt;UDID&gt; --app &lt;bundle_id&gt;
</pre>

<p>This will start Appium and have Appium use the device to test the app.</p>

<h2 id="troubleshooting-ideas">Troubleshooting ideas</h2>

<ol>
<li>Make sure UDID is correct by checking it in xcode organizer or itunes. It
is a long string (20+ chars)</li>
<li>Make sure that you can run your tests against simulator</li>
<li>Double check that you can invoke your automation from instruments.</li>
<li>Make sure instruments in closed already</li>
</ol>

<h2 id="appium-on-real-android-devices">Appium on real Android devices</h2>

<p>Hooray! There’s nothing extra to know about testing real Android devices: it
works exactly the same as testing on emulators. Make sure that your device
can connect to ADB and has Developer Mode enabled.</p>

<h1 id="running-appium-on-mac-os-x">
<span id="running-on-osx.md"></span>Running Appium on Mac OS X</h1>

<p>Appium on OS X supports iOS and Android testing.</p>

<h2 id="system-setup-(ios)">System setup (iOS)</h2>

<ul>
<li>Appium requires Mac OS X 10.7, but 10.8 is recommended.</li>
<li>Make sure you have XCode and the iOS SDK(s) installed. (Appium currently
supports Xcode 4.6.3 for iOS up to 6.1 and Xcode 5 for iOS 7.0 and 7.1. Note
that testing against iOS versions below 7.0 using Xcode 5 is not recommended.
See the next section for more information.)</li>
<li>You need to authorize use of the iOS Simulator. If you are running Appium
from NPM, you’ll do this by running <code class="prettyprint">sudo authorize_ios</code> (<code class="prettyprint">authorize_ios</code> is
a binary made available by the Appium npm package). If you’re running Appium
from source, simply run <code class="prettyprint">sudo grunt authorize</code> to do the same thing. If you
are running <code class="prettyprint">Appium.app</code>, you can authorize iOS through the GUI.</li>
</ul>

<h2 id="testing-against-multiple-ios-sdks">Testing against multiple iOS SDKs</h2>

<p>Apple’s <code class="prettyprint">instruments</code> binary, which Appium uses to launch the iOS simulator, by
default uses the currently-selected Xcode, and the highest iOS SDK installed
with that version of Xcode. This means that if you want to test iOS 6.1, but
have iOS 7.1 installed, Appium will be forced to use the 7.1 Simulator
regardless. The only way around this is to have multiple copies of Xcode
installed with different sets of SDKs. You can then switch to the particular
copy of Xcode that has the versions you want to test with before starting
Appium.</p>

<p>In addition, it’s been discovered that testing against iOS 6.1 with Xcode
5 causes increased slowness and instability, so it’s recommended that for
testing against iOS 6.1 and below we use Xcode 4.6.3, and for testing against
iOS 7.0 we use Xcode 5.We can do this by, say, having Xcode 5 at
<code class="prettyprint">/Applications/Xcode.app</code>, and Xcode 4.6 and <code class="prettyprint">/Applications/Xcode-4.6.app</code>.
Then we use the following command:</p>

<p>sudo xcode-select -switch /Applications/Xcode-4.6.app/Contents/Developer/</p>

<p>To prepare for iOS 6.1 testing. We run it again with a different Xcode:</p>

<p>sudo xcode-select -switch /Applications/Xcode.app/Contents/Developer/</p>

<p>To go back to iOS 7.1 testing.</p>

<h2 id="system-setup-(android)">System setup (Android)</h2>

<ul>
<li>Make sure you have the <a href="http://developer.android.com/sdk/index.html">Android SDK installed</a>.</li>
<li>Make sure you have Android SDK API &gt;= 17 installed. To do this, run the
Android SDK Manager (<code class="prettyprint">android</code>) and select the API in the extra packages you can install.</li>
<li>Make sure you have <code class="prettyprint">ant</code> installed. Ant is used to build the Appium bootstrap
jar as well as the test applications. Mac OS X Mavericks no longer comes
pre-packaged with <code class="prettyprint">ant</code> so you will need to <a href="http://ant.apache.org/bindownload.cgi">download and install it</a>.</li>
<li>
<p>Make sure you have exported <code class="prettyprint">$ANDROID_HOME</code>, containing your android sdk
path. If you unzipped the Android SDK to <code class="prettyprint">/usr/local/adt/</code>, for example, you
should add this to your shell startup:</p>

<p>export ANDROID_HOME=“/usr/local/adt/sdk”</p>
</li>
<li><p>Make sure you have <a href="http://maven.apache.org/download.cgi">Maven 3.1.1</a>
or newer installed (<code class="prettyprint">mvn</code>). We need Maven for Selendroid support,
which helps Appium run on Android versions below 4.2.</p></li>
<li><p>Make sure you have an AVD set to a recent Android version (one that can run
UIAutomator. Just choose the latest Android OS). You can create an AVD by
using the android SDK tools. Remember the name you give the AVD, so that you
can launch an emulator with it and run tests against it.</p></li>
<li><p>Make sure that <code class="prettyprint">hw.battery=yes</code> in your AVD’s <code class="prettyprint">config.ini</code>.</p></li>
<li><p>There exists a hardware accelerated emulator for android, it has its own
limitations. For more information you can check out this
<a href="#android-hax-emulator.md">page</a>.</p></li>
</ul>

<h1 id="running-appium-on-windows">
<span id="running-on-windows.md"></span>Running Appium on Windows</h1>

<h2 id="limitations">Limitations</h2>

<p>If you are running Appium on Windows, you cannot use the prebuilt ‘.app’,
which is built for OS X only. Additionally, you will not be able to test iOS
apps because Appium relies on OS X-only libraries to support iOS testing.</p>

<h2 id="setup">Setup</h2>

<p>To get started:</p>

<ol>
<li>Install <a href="http://nodejs.org/download/">node.js</a> (v.0.10 or greater). Use the
installer from nodejs.org.</li>
<li>Install the <a href="http://developer.android.com/sdk/index.html">Android SDK</a>.
You will need to run the ‘android’ tool (included in the SDK) and make sure
you have an API Level 17 or greater API installed. Set <code class="prettyprint">ANDROID_HOME</code> to be
your Android SDK path and add the tools and platform-tools folders to your
PATH variable.</li>
<li>Install the Java JDK and set <code class="prettyprint">JAVA_HOME</code> to your JDK folder.</li>
<li>Install <a href="http://ant.apache.org/bindownload.cgi">Apache Ant</a> or use the one
that comes with the Android Windows SDK in the eclipse\plugins folder. Be
sure to add the folder containing ant to your PATH variable.</li>
<li>Install <a href="http://maven.apache.org/download.cgi">Apache Maven</a> and set the
M2HOME and M2 environment variables. Set M2HOME to the directory maven is
installed in, and set M2 to %M2HOME\bin. Add the path you used for M2 to
your PATH.</li>
<li>Install <a href="http://git-scm.com/download/win">Git</a> Be sure to install Git for
windows to run in the regular command prompt.</li>
<li>Instal <a href="http://curl.haxx.se/download.html">cURL</a>
</li>
</ol>

<p>Now that you’ve downloaded everything, run:</p>

<p>reset.bat</p>

<h2 id="running-appium">Running Appium</h2>

<p>To run tests on Windows, you will need to have the Android Emulator booted or
 an Android Device connected that is running an AVD with API Level 17 or
 greater. Then run Appium on the command line using node.js:</p>

<p>node .</p>

<p>See the <a href="#server-args.md">server documentation</a>
for all the command line arguments.</p>

<h2 id="notes">Notes</h2>

<ul>
<li>you must supply the –no-reset and –full-reset flags currently for android
to work on Windows.</li>
<li>There exists a hardware accelerated emulator for android, it has it’s own
limitations. For more information you can check out this
<a href="#android-hax-emulator.md">page</a>.</li>
<li>Make sure that <code class="prettyprint">hw.battery=yes</code> in your AVD’s <code class="prettyprint">config.ini</code>.</li>
</ul>

<h1 id="running-appium-on-linux">
<span id="running-on-linux.md"></span>Running Appium on Linux</h1>

<h2 id="limitations">Limitations</h2>

<p>If you are running Appium on Linux, you cannot use the prebuilt ‘.app’,
which is built for OS X only. Additionally, you will not be able to test iOS
apps because Appium relies on OS X-only libraries to support iOS testing.</p>

<h2 id="setup">Setup</h2>

<p>To get started, you’ll need to install node.js (v.0.10 or greater). Just
follow the <a href="https://github.com/joyent/node/wiki/Installing-Node.js-via-package-manager">instructions for your flavor of linux</a>.</p>

<p>Once you’ve got node.js installed, install the <a href="http://developer.android.com/sdk/index.html">Android SDK</a>.
You will need to run the ‘android’ tool (included in the SDK) and make sure
you have an API Level 17 or greater API installed. You will also need Ant to
build the bootstrap jar that Appium uses for testing Android.</p>

<p>Finally, set <code class="prettyprint">$ANDROID_HOME</code> to be your Android SDK path. If you unzipped the
Android SDK to /usr/local/adt/, for example, you should add this to your
shell startup:</p>

<p>export ANDROID_HOME=“/usr/local/adt/sdk”</p>

<p>Now that you’re setup to run Appium, run <code class="prettyprint">./reset.sh --android</code> from your
Appium checkout to install all the dependencies.</p>

<h2 id="running-appium">Running Appium</h2>

<p>To run tests on Linux, you will need to have the Android Emulator booted and
running an AVD with API Level 17 or greater. Then run Appium on the command
line using node.js:</p>

<p>node .</p>

<p>See the <a href="#server-args.md">server documentation</a> for all the command line
arguments.</p>

<h2 id="notes">Notes</h2>

<ul>
<li>There exists a hardware accelerated emulator for android, it has it’s own
limitations. For more information you can check out this
<a href="#android-hax-emulator.md">page</a>.</li>
<li>Make sure that <code class="prettyprint">hw.battery=yes</code> in your AVD’s <code class="prettyprint">config.ini</code>.</li>
</ul>

<h1 id="running-tests">
<span id="running-tests.md"></span>Running Tests</h1>

<h2 id="preparing-your-app-for-test-(ios)">Preparing your app for test (iOS)</h2>

<p>Test apps run on the simulator have to be compiled specifically for the
simulator, for example by executing the following command in the Xcode project:</p>

<p>&gt; xcodebuild -sdk iphonesimulator6.0</p>

<p>This creates a <code class="prettyprint">build/Release-iphonesimulator</code> directory in your Xcode project
that contains the <code class="prettyprint">.app</code> package that you’ll need to communicate with the
Appium server.</p>

<p>If you want, you can zip up the .app directory into a .zip file! Appium will
unpack it for you. Nice if you’re not using Appium locally.</p>

<h2 id="preparing-your-app-for-test-(android)">Preparing your app for test (Android)</h2>

<p>Nothing in particular needs to be done to run your .apk using Appium. If you
want to zip it up, you can.</p>

<h2 id="running-your-test-app-with-appium-(ios)">Running your test app with Appium (iOS)</h2>

<p>The best way to see what to do currently is to look at the example tests:</p>

<p><a href="https://github.com/appium/appium/tree/1.0-beta/sample-code/examples/node">Node.js</a> | <a href="https://github.com/appium/appium/tree/1.0-beta/sample-code/examples/python">Python</a> | <a href="https://github.com/appium/appium/tree/1.0-beta/sample-code/examples/php">PHP</a> | <a href="https://github.com/appium/appium/tree/1.0-beta/sample-code/examples/ruby">Ruby</a> | <a href="https://github.com/appium/appium/tree/1.0-beta/sample-code/examples/java">Java</a></p>

<p>Basically, first make sure Appium is running:</p>

<p>node .</p>

<p>Then script your WebDriver test, sending in the following desired capabilities:</p>
<pre class="highlight javascript"><span class="p">{</span>
    <span class="na">platformName</span><span class="p">:</span> <span class="s1">'iOS'</span><span class="p">,</span>
    <span class="na">platformVersion</span><span class="p">:</span> <span class="s1">'7.1'</span><span class="p">,</span>
    <span class="na">deviceName</span><span class="p">:</span> <span class="s1">'iPhone Simulator'</span><span class="p">,</span>
    <span class="na">app</span><span class="p">:</span> <span class="nx">myApp</span>
<span class="p">}</span>
</pre>
<pre class="highlight python"><span class="p">{</span>
    <span class="s">'platformName'</span><span class="p">:</span> <span class="s">'iOS'</span><span class="p">,</span>
    <span class="s">'platformVersion'</span><span class="p">:</span> <span class="s">'7.1'</span><span class="p">,</span>
    <span class="s">'deviceName'</span><span class="p">:</span> <span class="s">'iPhone Simulator'</span><span class="p">,</span>
    <span class="s">'app'</span><span class="p">:</span> <span class="n">myApp</span>
<span class="p">}</span>
</pre>

<p>In this set of capabilities, <code class="prettyprint">myApp</code> must be either:</p>

<ul>
<li>A local absolute path to your simulator-compiled .app directory or .zip</li>
<li>A url of a zip file containing your .app package</li>
<li>A path to one of the sample app relative to the appium install root.</li>
</ul>

<p>Using your WebDriver library of choice, set the remote session to use these
capabilities and connect to the server running at port 4723 of localhost (or
whatever host and port you specified when you started Appium). You should be
all set now!</p>

<h2 id="running-your-test-app-with-appium-(android)">Running your test app with Appium (Android)</h2>

<p>First, make sure you have one and only one Android emulator or device
connected. If you run <code class="prettyprint">adb devices</code>, for example, you should see one device
connected. This is the device Appium will use for tests. Of course, to have
a device connected, you’ll need to have made an Android AVD (see system
setup (<a href="#running-on-windows.md">Windows</a>,
<a href="#running-on-osx.md">Mac</a>,
or <a href="#running-on-linux.md">Linux</a>)
for more information). If the Android SDK tools are on your path, you can
simply run:</p>

<p>emulator -avd <myavdname></myavdname></p>

<p>And wait for the android emulator to finish launching. Sometimes, for various
reasons, <code class="prettyprint">adb</code> gets stuck. If it’s not showing any connected devices or
otherwise failing, you can restart it by running:</p>

<p>adb kill-server &amp;&amp; adb devices</p>

<p>Now, make sure Appium is running:</p>

<p>node .</p>

<p>Then script your WebDriver test, sending in the following desired capabilities:</p>
<pre class="highlight javascript"><span class="p">{</span>
    <span class="na">platformName</span><span class="p">:</span> <span class="s1">'Android'</span><span class="p">,</span>
    <span class="na">platformVersion</span><span class="p">:</span> <span class="s1">'4.4'</span><span class="p">,</span>
    <span class="na">deviceName</span><span class="p">:</span> <span class="s1">'Android Emulator'</span><span class="p">,</span>
    <span class="na">app</span><span class="p">:</span> <span class="nx">myApp</span>
<span class="p">}</span>
</pre>
<pre class="highlight python"><span class="p">{</span>
    <span class="s">'platformName'</span><span class="p">:</span> <span class="s">'Android'</span><span class="p">,</span>
    <span class="s">'platformVersion'</span><span class="p">:</span> <span class="s">'4.4'</span><span class="p">,</span>
    <span class="s">'deviceName'</span><span class="p">:</span> <span class="s">'Android Emulator'</span><span class="p">,</span>
    <span class="s">'app'</span><span class="p">:</span> <span class="n">myApp</span>
<span class="p">}</span>
</pre>

<p>In this set of capabilities, <code class="prettyprint">myApp</code> must be either:</p>

<ul>
<li>A local absolute path to your .apk or a .zip of it</li>
<li>A url of a zip file containg your .apk</li>
<li>A path to one of the sample app relative to the appium install root.</li>
</ul>

<p>Using your WebDriver library of choice, set the remote session to use these
capabilities and connect to the server running at port 4723 of localhost (or
whatever host and port you specified when you started Appium). You should be
all set now!</p>

<h2 id="running-your-test-app-with-appium-(android-devices-&lt;-4.2,-and-hybrid-tests)">Running your test app with Appium (Android devices &lt; 4.2, and hybrid tests)</h2>

<p>Android devices before version 4.2 (API Level 17) do not have Google’s
<a href="http://developer.android.com/tools/help/uiautomator/index.html">UiAutomator framework</a>
installed. This is what Appium uses to perform the automation behaviors on
the device. For earlier devices or tests of hybrid (webview-based) apps,
Appium comes bundled with another automation backend called <a href="http://selendroid.io/">Selendroid</a>.</p>

<p>To use Selendroid, all that is required is to slightly change the set of
desired capabilities mentioned above, by adding the <code class="prettyprint">automationName</code> capability
and specifying the Selendroid automation backend.</p>
<pre class="highlight javascript"><span class="p">{</span>
    <span class="na">automationName</span><span class="p">:</span> <span class="s1">'Selendroid'</span><span class="p">,</span>
    <span class="na">platformName</span><span class="p">:</span> <span class="s1">'Android'</span><span class="p">,</span>
    <span class="na">platformVersion</span><span class="p">:</span> <span class="s1">'2.3'</span><span class="p">,</span>
    <span class="na">deviceName</span><span class="p">:</span> <span class="s1">'Android Emulator'</span><span class="p">,</span>
    <span class="na">version</span><span class="p">:</span> <span class="s1">'2.3'</span><span class="p">,</span>
    <span class="na">app</span><span class="p">:</span> <span class="nx">myApp</span>
<span class="p">}</span>
</pre>
<pre class="highlight python"><span class="p">{</span>
    <span class="s">'automationName'</span><span class="p">:</span> <span class="s">'Selendroid'</span><span class="p">,</span>
    <span class="s">'platformName'</span><span class="p">:</span> <span class="s">'Android'</span><span class="p">,</span>
    <span class="s">'platformVersion'</span><span class="p">:</span> <span class="s">'2.3'</span><span class="p">,</span>
    <span class="s">'deviceName'</span><span class="p">:</span> <span class="s">'Android Emulator'</span><span class="p">,</span>
    <span class="s">'version'</span><span class="p">:</span> <span class="s">'2.3'</span><span class="p">,</span>
    <span class="s">'app'</span><span class="p">:</span> <span class="n">myApp</span>
<span class="p">}</span>
</pre>

<p>Now Appium will start up a Selendroid test session instead of the default test
session. One of the downsides to using Selendroid is that its API differs
sometimes significantly with Appium’s. Therefore we recommend you thoroughly
read <a href="http://selendroid.io/native.html">Selendroid’s documentation</a> before
writing your scripts for older devices or hybrid apps.</p>

<h1 id="intel®-hardware-accelerated-execution-manager">
<span id="android-hax-emulator.md"></span>Intel® Hardware Accelerated Execution Manager</h1>

<p>If you find the android emulator a slow and your system runs on an Intel®
cpu, you can check out HAXM. HAXM let’s you leverage your hardware for
virtualization accelerating the emulator.</p>

<ul>
<li>To install HAXM open the Android SDK Manager, you will find the package
under Extras.</li>
<li>You can find all relevant documentation on <a href="http://software.intel.com/en-us/articles/intel-hardware-accelerated-execution-manager/">Intel’s website</a>
</li>
<li>This will require an x86 emulator image</li>
<li>Use Intel’s package to install HAXM; The Android SDK Manager appears to not
do so successfully.</li>
</ul>

<h1 id="android-coverage">
<span id="android_coverage.md"></span>Android Coverage</h1>

<p>Android coverage requires the emulator or a rooted device. Build your app
using the instrument target, for example <code class="prettyprint">$ ant instrument</code></p>

<p>Pass <code class="prettyprint">androidCoverage</code> to your device capabilities and set it to your
instrumentation class.</p>
<pre class="highlight ruby"><span class="n">caps</span> <span class="o">=</span> <span class="p">{</span> <span class="ss">androidCoverage: </span><span class="s1">'com.example.pkg/com.example.pkg.instrumentation.MyInstrumentation'</span> <span class="p">}</span>
</pre>
<pre class="highlight python"><span class="n">caps</span> <span class="o">=</span> <span class="p">{</span> <span class="s">'androidCoverage'</span><span class="p">:</span> <span class="s">'com.example.pkg/com.example.pkg.instrumentation.MyInstrumentation'</span> <span class="p">}</span>
</pre>

<p>Appium will start your app like this:</p>

<p><code class="prettyprint">adb shell am instrument -e coverage true -w com.example.pkg/com.example.pkg.instrumentation.MyInstrumentation</code></p>

<p>After your test completes, it’s time to end the coverage collection and pull
the coverage.ec file from the device.</p>
<pre class="highlight ruby"><span class="n">mobile</span> <span class="ss">:endCoverage</span><span class="p">,</span> <span class="ss">intent: </span><span class="s1">'com.example.pkg.END_EMMA'</span><span class="p">,</span> <span class="ss">path: </span><span class="s1">'/mnt/sdcard/coverage.ec'</span>
</pre>
<pre class="highlight python"><span class="n">driver</span><span class="o">.</span><span class="n">end_test_coverage</span><span class="p">(</span><span class="n">intent</span><span class="o">=</span><span class="s">'com.example.pkg.END_EMMA'</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s">'/mnt/sdcard/coverage.ec'</span><span class="p">)</span>
</pre>

<p><code class="prettyprint">AndroidManifest.xml</code> defines the instrumentation and broadcast receiver.</p>
<pre class="highlight xml">    <span class="nt">&lt;instrumentation</span>
        <span class="na">android:name=</span><span class="s">"com.example.pkg.instrumentation.MyInstrumentation"</span>
        <span class="na">android:targetPackage=</span><span class="s">"com.example.pkg"</span> <span class="nt">&gt;</span>
    <span class="nt">&lt;/instrumentation&gt;</span>

    <span class="c">&lt;!-- adb shell am broadcast -a com.example.pkg.END_EMMA --&gt;</span>
    <span class="nt">&lt;receiver</span> <span class="na">android:name=</span><span class="s">"com.example.pkg.instrumentation.EndEmmaBroadcast"</span> <span class="nt">&gt;</span>
       <span class="nt">&lt;intent-filter&gt;</span>
           <span class="nt">&lt;action</span> <span class="na">android:name=</span><span class="s">"com.example.pkg.END_EMMA"</span> <span class="nt">/&gt;</span>
       <span class="nt">&lt;/intent-filter&gt;</span>
    <span class="nt">&lt;/receiver&gt;</span>
</pre>

<p><code class="prettyprint">EndEmmaBroadcast.java</code> is defined as:</p>
<pre class="highlight java"><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">example</span><span class="o">.</span><span class="na">pkg</span><span class="o">.</span><span class="na">instrumentation</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.File</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">android.annotation.SuppressLint</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.content.BroadcastReceiver</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.content.Context</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.content.Intent</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.os.Process</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.util.Log</span><span class="o">;</span>

<span class="c1">// adb shell am broadcast -a com.example.pkg.END_EMMA</span>
<span class="nd">@SuppressLint</span><span class="o">(</span><span class="s">"SdCardPath"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">EndEmmaBroadcast</span> <span class="kd">extends</span> <span class="n">BroadcastReceiver</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="n">onReceive</span><span class="o">(</span><span class="n">Context</span> <span class="n">context</span><span class="o">,</span> <span class="n">Intent</span> <span class="kt">int</span><span class="n">ent</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="s">"AppiumEmma"</span><span class="o">,</span> <span class="s">"EndEmmaBroadcast broadcast received!"</span><span class="o">);</span>
        <span class="c1">// reflection is used so emma doesn't cause problems for other build targets</span>
        <span class="c1">// that do not include emma.</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">"com.vladium.emma.rt.RT"</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">getMethod</span><span class="o">(</span><span class="s">"dumpCoverageData"</span><span class="o">,</span> <span class="n">File</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="kt">boolean</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="kt">boolean</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">"/mnt/sdcard/coverage.ec"</span><span class="o">),</span> <span class="kc">false</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="s">"AppiumEmma"</span><span class="o">,</span> <span class="n">e</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
        <span class="o">}</span>

        <span class="c1">// once coverage is dumped, the processes is ended.</span>
        <span class="n">Process</span><span class="o">.</span><span class="na">killProcess</span><span class="o">(</span><span class="n">Process</span><span class="o">.</span><span class="na">myPid</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre>

<p><code class="prettyprint">MyInstrumentation.java</code> is defined as:</p>
<pre class="highlight java"><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">example</span><span class="o">.</span><span class="na">pkg</span><span class="o">.</span><span class="na">instrumentation</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">android.app.Instrumentation</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.content.Intent</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.content.IntentFilter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.support.v4.content.LocalBroadcastManager</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyInstrumentation</span> <span class="kd">extends</span> <span class="n">Instrumentation</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">Intent</span> <span class="kt">int</span><span class="n">ent</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="n">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">arguments</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span><span class="n">ent</span> <span class="o">=</span> <span class="n">getTargetContext</span><span class="o">().</span><span class="na">getPackageManager</span><span class="o">()</span>
                <span class="o">.</span><span class="na">getLaunchIntentForPackage</span><span class="o">(</span><span class="s">"com.example.pkg"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">setFlags</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">FLAG_ACTIVITY_NEW_TASK</span><span class="o">);</span>
        <span class="n">start</span><span class="o">();</span> <span class="c1">// creates new thread which invokes onStart</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="n">onStart</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">startActivitySync</span><span class="o">(</span><span class="kt">int</span><span class="n">ent</span><span class="o">);</span>
        <span class="n">LocalBroadcastManager</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">getTargetContext</span><span class="o">()).</span><span class="na">registerReceiver</span><span class="o">(</span>
                <span class="k">new</span> <span class="n">EndEmmaBroadcast</span><span class="o">(),</span> <span class="k">new</span> <span class="n">IntentFilter</span><span class="o">(</span><span class="s">"com.example.pkg.END_EMMA"</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre>

<h2 id="coverage-reports">Coverage Reports</h2>

<p><code class="prettyprint">ant instrument</code> generates a <code class="prettyprint">coverage.em</code> file. The <code class="prettyprint">mobile :endCoverage</code>
will download the coverage.ec file for that particular run. Note that you can
 have any number of coverage.ec files. To merge them all together into a
 report, use this command:</p>

<blockquote>
<p>java -cp /path/to/android-sdk-macosx/tools/lib/emma_device.jar emma report -r html -in coverage.em,coverage0.ec,coverage1.ec -sp /path/to/your-app/src</p>
</blockquote>

<h1 id="appium-server-arguments">
<span id="server-args.md"></span>Appium server arguments</h1>

<p>Usage: <code class="prettyprint">node . [flags]</code></p>

<h2 id="server-flags">Server flags</h2>

<p>All flags are optional, but some are required in conjunction with certain others.</p>

<p class="expand_table"></p>

<table>
<thead>
<tr>
<th>Flag</th>
<th>Default</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="prettyprint">--shell</code></td>
<td>null</td>
<td>Enter REPL mode</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">--localizable-strings-dir</code></td>
<td>en.lproj</td>
<td>IOS only: the relative path of the dir where Localizable.strings file resides</td>
<td><code class="prettyprint">--localizable-strings-dir en.lproj</code></td>
</tr>
<tr>
<td><code class="prettyprint">--app</code></td>
<td>null</td>
<td>IOS: abs path to simulator-compiled .app file or the bundle_id of the desired target on device; Android: abs path to .apk file</td>
<td><code class="prettyprint">--app /abs/path/to/my.app</code></td>
</tr>
<tr>
<td><code class="prettyprint">--ipa</code></td>
<td>null</td>
<td>(IOS-only) abs path to compiled .ipa file</td>
<td><code class="prettyprint">--ipa /abs/path/to/my.ipa</code></td>
</tr>
<tr>
<td>
<code class="prettyprint">-q</code>, <code class="prettyprint">--quiet</code>
</td>
<td>false</td>
<td>Don’t use verbose logging output</td>
<td></td>
</tr>
<tr>
<td>
<code class="prettyprint">-U</code>, <code class="prettyprint">--udid</code>
</td>
<td>null</td>
<td>Unique device identifier of the connected physical device</td>
<td><code class="prettyprint">--udid 1adsf-sdfas-asdf-123sdf</code></td>
</tr>
<tr>
<td>
<code class="prettyprint">-a</code>, <code class="prettyprint">--address</code>
</td>
<td>0.0.0.0</td>
<td>IP Address to listen on</td>
<td><code class="prettyprint">--address 0.0.0.0</code></td>
</tr>
<tr>
<td>
<code class="prettyprint">-p</code>, <code class="prettyprint">--port</code>
</td>
<td>4723</td>
<td>port to listen on</td>
<td><code class="prettyprint">--port 4723</code></td>
</tr>
<tr>
<td>
<code class="prettyprint">-bp</code>, <code class="prettyprint">--bootstrap-port</code>
</td>
<td>4724</td>
<td>(Android-only) port to use on device to talk to Appium</td>
<td><code class="prettyprint">--bootstrap-port 4724</code></td>
</tr>
<tr>
<td>
<code class="prettyprint">-k</code>, <code class="prettyprint">--keep-artifacts</code>
</td>
<td>false</td>
<td>(IOS-only) Keep Instruments trace directories</td>
<td></td>
</tr>
<tr>
<td>
<code class="prettyprint">-r</code>, <code class="prettyprint">--backend-retries</code>
</td>
<td>3</td>
<td>(iOS-only) How many times to retry launching Instruments before saying it crashed or timed out</td>
<td><code class="prettyprint">--backend-retries 3</code></td>
</tr>
<tr>
<td><code class="prettyprint">--session-override</code></td>
<td>false</td>
<td>Enables session override (clobbering)</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">--full-reset</code></td>
<td>false</td>
<td>(iOS) Delete the entire simulator folder. (Android) Reset app state by uninstalling app instead of clearing app data. On Android, this will also remove the app after the session is complete.</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">--no-reset</code></td>
<td>false</td>
<td>Don’t reset app state between sessions (IOS: don’t delete app plist files; Android: don’t uninstall app before new session)</td>
<td></td>
</tr>
<tr>
<td>
<code class="prettyprint">-l</code>, <code class="prettyprint">--pre-launch</code>
</td>
<td>false</td>
<td>Pre-launch the application before allowing the first session (Requires –app and, for Android, –app-pkg and –app-activity)</td>
<td></td>
</tr>
<tr>
<td>
<code class="prettyprint">-lt</code>, <code class="prettyprint">--launch-timeout</code>
</td>
<td>90000</td>
<td>(iOS-only) how long in ms to wait for Instruments to launch</td>
<td></td>
</tr>
<tr>
<td>
<code class="prettyprint">-g</code>, <code class="prettyprint">--log</code>
</td>
<td>null</td>
<td>Also send log output to this file</td>
<td><code class="prettyprint">--log /path/to/appium.log</code></td>
</tr>
<tr>
<td><code class="prettyprint">--log-timestamp</code></td>
<td>false</td>
<td>Show timestamps in console output</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">--log-no-colors</code></td>
<td>false</td>
<td>Don’t use colors in console output</td>
<td></td>
</tr>
<tr>
<td>
<code class="prettyprint">-G</code>, <code class="prettyprint">--webhook</code>
</td>
<td>null</td>
<td>Also send log output to this HTTP listener</td>
<td><code class="prettyprint">--webhook localhost:9876</code></td>
</tr>
<tr>
<td><code class="prettyprint">--native-instruments-lib</code></td>
<td>false</td>
<td>(IOS-only) IOS has a weird built-in unavoidable delay. We patch this in appium. If you do not want it patched, pass in this flag.</td>
<td></td>
</tr>
<tr>
<td>
<code class="prettyprint">--force-quit-instruments</code>, <code class="prettyprint">-fqi</code>
</td>
<td>false</td>
<td>Run the watcher process that will force-kill an unresponsive instruments</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">--app-pkg</code></td>
<td>null</td>
<td>(Android-only) Java package of the Android app you want to run (e.g., com.example.android.myApp)</td>
<td><code class="prettyprint">--app-pkg com.example.android.myApp</code></td>
</tr>
<tr>
<td><code class="prettyprint">--app-activity</code></td>
<td>null</td>
<td>(Android-only) Activity name for the Android activity you want to launch from your package (e.g., MainActivity)</td>
<td><code class="prettyprint">--app-activity MainActivity</code></td>
</tr>
<tr>
<td><code class="prettyprint">--app-wait-package</code></td>
<td>false</td>
<td>(Android-only) Package name for the Android activity you want to wait for (e.g., com.example.android.myApp)</td>
<td><code class="prettyprint">--app-wait-package com.example.android.myApp</code></td>
</tr>
<tr>
<td><code class="prettyprint">--app-wait-activity</code></td>
<td>false</td>
<td>(Android-only) Activity name for the Android activity you want to wait for (e.g., SplashActivity)</td>
<td><code class="prettyprint">--app-wait-activity SplashActivity</code></td>
</tr>
<tr>
<td><code class="prettyprint">--android-coverage</code></td>
<td>false</td>
<td>(Android-only) Fully qualified instrumentation class. Passed to -w in adb shell am instrument -e coverage true -w</td>
<td><code class="prettyprint">--android-coverage com.my.Pkg/com.my.Pkg.instrumentation.MyInstrumentation</code></td>
</tr>
<tr>
<td><code class="prettyprint">--avd</code></td>
<td>null</td>
<td>(Android-only) Name of the avd to launch</td>
<td><code class="prettyprint">--avd @default</code></td>
</tr>
<tr>
<td><code class="prettyprint">--avd-args</code></td>
<td>null</td>
<td>(Android-only) Additional emulator arguments to launch the avd</td>
<td><code class="prettyprint">--avd-args -no-snapshot-load</code></td>
</tr>
<tr>
<td><code class="prettyprint">--device-ready-timeout</code></td>
<td>5</td>
<td>(Android-only) Timeout in seconds while waiting for device to become ready</td>
<td><code class="prettyprint">--device-ready-timeout 5</code></td>
</tr>
<tr>
<td><code class="prettyprint">--safari</code></td>
<td>false</td>
<td>(IOS-Only) Use the safari app</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">--device-name</code></td>
<td>null</td>
<td>Name of the mobile device to use</td>
<td><code class="prettyprint">--device-name iPhone Retina (4-inch), Android Emulator</code></td>
</tr>
<tr>
<td><code class="prettyprint">--platform-name</code></td>
<td>null</td>
<td>Name of the mobile platform: iOS, Android, or FirefoxOS</td>
<td><code class="prettyprint">--platform-name iOS</code></td>
</tr>
<tr>
<td><code class="prettyprint">--platform-version</code></td>
<td>null</td>
<td>Version of the mobile platform</td>
<td><code class="prettyprint">--platform-version 7.1</code></td>
</tr>
<tr>
<td><code class="prettyprint">--automation-name</code></td>
<td>null</td>
<td>Name of the automation tool: Appium or Selendroid</td>
<td><code class="prettyprint">--automation-name Appium</code></td>
</tr>
<tr>
<td><code class="prettyprint">--browser-name</code></td>
<td>null</td>
<td>Name of the mobile browser: Safari or Chrome</td>
<td><code class="prettyprint">--browser-name Safari</code></td>
</tr>
<tr>
<td>
<code class="prettyprint">--default-device</code>, <code class="prettyprint">-dd</code>
</td>
<td>false</td>
<td>(IOS-Simulator-only) use the default simulator that instruments launches on its own</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">--force-iphone</code></td>
<td>false</td>
<td>(IOS-only) Use the iPhone Simulator no matter what the app wants</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">--force-ipad</code></td>
<td>false</td>
<td>(IOS-only) Use the iPad Simulator no matter what the app wants</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">--language</code></td>
<td>null</td>
<td>Language for the iOS simulator / Android Emulator</td>
<td><code class="prettyprint">--language en</code></td>
</tr>
<tr>
<td><code class="prettyprint">--locale</code></td>
<td>null</td>
<td>Locale for the iOS simulator / Android Emulator</td>
<td><code class="prettyprint">--locale en_US</code></td>
</tr>
<tr>
<td><code class="prettyprint">--calendar-format</code></td>
<td>null</td>
<td>(IOS-only) calendar format for the iOS simulator</td>
<td><code class="prettyprint">--calendar-format gregorian</code></td>
</tr>
<tr>
<td><code class="prettyprint">--orientation</code></td>
<td>null</td>
<td>(IOS-only) use LANDSCAPE or PORTRAIT to initialize all requests to this orientation</td>
<td><code class="prettyprint">--orientation LANDSCAPE</code></td>
</tr>
<tr>
<td><code class="prettyprint">--tracetemplate</code></td>
<td>null</td>
<td>(IOS-only) .tracetemplate file to use with Instruments</td>
<td><code class="prettyprint">--tracetemplate /Users/me/Automation.tracetemplate</code></td>
</tr>
<tr>
<td><code class="prettyprint">--show-sim-log</code></td>
<td>false</td>
<td>(IOS-only) if set, the iOS simulator log will be written to the console</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">--nodeconfig</code></td>
<td>null</td>
<td>Configuration JSON file to register appium with selenium grid</td>
<td><code class="prettyprint">--nodeconfig /abs/path/to/nodeconfig.json</code></td>
</tr>
<tr>
<td>
<code class="prettyprint">-ra</code>, <code class="prettyprint">--robot-address</code>
</td>
<td>0.0.0.0</td>
<td>IP Address of robot</td>
<td><code class="prettyprint">--robot-address 0.0.0.0</code></td>
</tr>
<tr>
<td>
<code class="prettyprint">-rp</code>, <code class="prettyprint">--robot-port</code>
</td>
<td>-1</td>
<td>port for robot</td>
<td><code class="prettyprint">--robot-port 4242</code></td>
</tr>
<tr>
<td><code class="prettyprint">--selendroid-port</code></td>
<td>8080</td>
<td>Local port used for communication with Selendroid</td>
<td><code class="prettyprint">--selendroid-port 8080</code></td>
</tr>
<tr>
<td><code class="prettyprint">--chromedriver-port</code></td>
<td>9515</td>
<td>Port upon which ChromeDriver will run</td>
<td><code class="prettyprint">--chromedriver-port 9515</code></td>
</tr>
<tr>
<td><code class="prettyprint">--use-keystore</code></td>
<td>false</td>
<td>(Android-only) When set the keystore will be used to sign apks.</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">--keystore-path</code></td>
<td>/Users/user/.android/debug.keystore</td>
<td>(Android-only) Path to keystore</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">--keystore-password</code></td>
<td>android</td>
<td>(Android-only) Password to keystore</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">--key-alias</code></td>
<td>androiddebugkey</td>
<td>(Android-only) Key alias</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">--key-password</code></td>
<td>android</td>
<td>(Android-only) Key password</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">--show-config</code></td>
<td>false</td>
<td>Show info about the appium server configuration and exit</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">--command-timeout</code></td>
<td>60</td>
<td>The default command timeout for the server to use for all sessions. Will still be overridden by newCommandTimeout cap</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">--keep-keychains</code></td>
<td>false</td>
<td>(iOS) Whether to keep keychains (Library/Keychains) when reset app between sessions</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">--strict-caps</code></td>
<td>false</td>
<td>Cause sessions to fail if desired caps are sent in that Appium does not recognize as valid for the selected device</td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">--tmp</code></td>
<td>null</td>
<td>Absolute path to directory Appium can use to manage temporary files, like built-in iOS apps it needs to move around. On *nix/Mac defaults to /tmp, on Windows defaults to C:\Windows\Temp</td>
<td></td>
</tr>
</tbody>
</table>

<h1 id="appium-server-capabilities">
<span id="caps.md"></span>Appium server capabilities</h1>

<p class="expand_table"></p>

<table>
<thead>
<tr>
<th>Capability</th>
<th>Description</th>
<th>Values</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="prettyprint">automationName</code></td>
<td>Which automation engine to use</td>
<td>
<code class="prettyprint">Appium</code> (default) or <code class="prettyprint">Selendroid</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">platformName</code></td>
<td>Which mobile OS platform to use</td>
<td>
<code class="prettyprint">iOS</code>, <code class="prettyprint">Android</code>, or <code class="prettyprint">FirefoxOS</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">platformVersion</code></td>
<td>Mobile OS version</td>
<td>e.g., <code class="prettyprint">7.1</code>, <code class="prettyprint">4.4</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">deviceName</code></td>
<td>The kind of mobile device or emulator to use</td>
<td>
<code class="prettyprint">iPhone Simulator</code>, <code class="prettyprint">iPad Simulator</code>, <code class="prettyprint">iPhone Retina 4-inch</code>, <code class="prettyprint">Android Emulator</code>, <code class="prettyprint">Galaxy S4</code>, etc…</td>
</tr>
<tr>
<td><code class="prettyprint">app</code></td>
<td>The absolute local path <em>or</em> remote http URL to an <code class="prettyprint">.ipa</code> or <code class="prettyprint">.apk</code> file, or a <code class="prettyprint">.zip</code> containing one of these. Appium will attempt to install this app binary on the appropriate device first. Note that this capability is not required for Android if you specify <code class="prettyprint">appPackage</code> and <code class="prettyprint">appActivity</code> capabilities (see below). Incompatible with <code class="prettyprint">browserName</code>.</td>
<td>
<code class="prettyprint">/abs/path/to/my.apk</code> or <code class="prettyprint">http://myapp.com/app.ipa</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">browserName</code></td>
<td>Name of mobile web browser to automate. Should be an empty string if automating an app instead.</td>
<td>‘Safari’ for iOS and ‘Chrome’, ‘Chromium’, or ‘Browser’ for Android</td>
</tr>
<tr>
<td><code class="prettyprint">newCommandTimeout</code></td>
<td>How long (in seconds) Appium will wait for a new command from the client before assuming the client quit and ending the session</td>
<td>e.g. <code class="prettyprint">60</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">autoLaunch</code></td>
<td>Whether to have Appium install and launch the app automatically. Default <code class="prettyprint">true</code>
</td>
<td>
<code class="prettyprint">true</code>, <code class="prettyprint">false</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">language</code></td>
<td>(Sim/Emu-only) Language to set for the iOS Simulator</td>
<td>e.g. <code class="prettyprint">fr</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">locale</code></td>
<td>(Sim/Emu-only) Locale to set for the iOS Simulator</td>
<td>e.g. <code class="prettyprint">fr_CA</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">udid</code></td>
<td>Unique device identifier of the connected physical device</td>
<td>e.g. <code class="prettyprint">1ae203187fc012g</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">orientation</code></td>
<td>(Sim/Emu-only) start in a certain orientation</td>
<td>
<code class="prettyprint">LANDSCAPE</code> or <code class="prettyprint">PORTRAIT</code>
</td>
</tr>
</tbody>
</table>

<h3 id="android-only">Android Only</h3>

<p class="expand_table"></p>

<table>
<thead>
<tr>
<th>Capability</th>
<th>Description</th>
<th>Values</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="prettyprint">appActivity</code></td>
<td>Activity name for the Android activity you want to launch from your package</td>
<td>
<code class="prettyprint">MainActivity</code>, <code class="prettyprint">.Settings</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">appPackage</code></td>
<td>Java package of the Android app you want to run</td>
<td>
<code class="prettyprint">com.example.android.myApp</code>, <code class="prettyprint">com.android.settings</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">appWaitActivity</code></td>
<td>Activity name for the Android activity you want to wait for</td>
<td><code class="prettyprint">SplashActivity</code></td>
</tr>
<tr>
<td><code class="prettyprint">appWaitPackage</code></td>
<td>Java package of the Android app you want to wait for</td>
<td>
<code class="prettyprint">com.example.android.myApp</code>, <code class="prettyprint">com.android.settings</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">deviceReadyTimeout</code></td>
<td>Timeout in seconds while waiting for device to become ready</td>
<td><code class="prettyprint">5</code></td>
</tr>
<tr>
<td><code class="prettyprint">androidCoverage</code></td>
<td>Fully qualified instrumentation class. Passed to -w in adb shell am instrument -e coverage true -w</td>
<td><code class="prettyprint">com.my.Pkg/com.my.Pkg.instrumentation.MyInstrumentation</code></td>
</tr>
<tr>
<td><code class="prettyprint">enablePerformanceLogging</code></td>
<td>(Chrome and webview only) Enable Chromedriver’s performance logging (default <code class="prettyprint">false</code>)</td>
<td>
<code class="prettyprint">true</code>, <code class="prettyprint">false</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">androidDeviceReadyTimeout</code></td>
<td>Timeout in seconds used to wait for a device to become ready after booting</td>
<td>e.g., <code class="prettyprint">30</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">avd</code></td>
<td>Name of avd to launch</td>
<td>e.g., <code class="prettyprint">api19</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">avdLaunchTimeout</code></td>
<td>How long to wait in milliseconds for an avd to launch and connect to ADB (default <code class="prettyprint">120000</code>)</td>
<td><code class="prettyprint">300000</code></td>
</tr>
<tr>
<td><code class="prettyprint">avdReadyTimeout</code></td>
<td>How long to wait in milliseconds for an avd to finish its boot animations (default <code class="prettyprint">120000</code>)</td>
<td><code class="prettyprint">300000</code></td>
</tr>
<tr>
<td><code class="prettyprint">avdArgs</code></td>
<td>Additional emulator arguments used when launching an avd</td>
<td>e.g., <code class="prettyprint">-netfast</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">useKeystore</code></td>
<td>Use a custom keystore to sign apks, default <code class="prettyprint">false</code>
</td>
<td>
<code class="prettyprint">true</code> or <code class="prettyprint">false</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">keystorePath</code></td>
<td>Path to custom keystore, default ~/.android/debug.keystore</td>
<td>e.g., <code class="prettyprint">/path/to.keystore</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">keystorePassword</code></td>
<td>Password for custom keystore</td>
<td>e.g., <code class="prettyprint">foo</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">keyAlias</code></td>
<td>Alias for key</td>
<td>e.g., <code class="prettyprint">androiddebugkey</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">keyPassword</code></td>
<td>Password for key</td>
<td>e.g., <code class="prettyprint">foo</code>
</td>
</tr>
</tbody>
</table>

<h3 id="ios-only">iOS Only</h3>

<p class="expand_table"></p>

<table>
<thead>
<tr>
<th>Capability</th>
<th>Description</th>
<th>Values</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="prettyprint">calendarFormat</code></td>
<td>(Sim-only) Calendar format to set for the iOS Simulator</td>
<td>e.g. <code class="prettyprint">gregorian</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">bundleId</code></td>
<td>Bundle ID of the app under test. Useful for starting an app on a real device or for using other caps which require the bundle ID during test startup</td>
<td>e.g. <code class="prettyprint">io.appium.TestApp</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">launchTimeout</code></td>
<td>Amount of time in ms to wait for instruments before assuming it hung and failing the session</td>
<td>e.g. <code class="prettyprint">20000</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">locationServicesEnabled</code></td>
<td>(Sim-only) Force location services to be either on or off. Default is to keep current sim setting.</td>
<td>
<code class="prettyprint">true</code> or <code class="prettyprint">false</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">locationServicesAuthorized</code></td>
<td>(Sim-only) Set location services to be authorized or not authorized for app via plist, so that location services alert doesn’t pop up. Default is to keep current sim setting. Note that if you use this setting you MUST also use the <code class="prettyprint">bundleId</code> capability to send in your app’s bundle ID.</td>
<td>
<code class="prettyprint">true</code> or <code class="prettyprint">false</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">autoAcceptAlerts</code></td>
<td>Accept iOS privacy access permission alerts (e.g., location, contacts, photos) automatically if they pop up. Default is false.</td>
<td>
<code class="prettyprint">true</code> or <code class="prettyprint">false</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">nativeInstrumentsLib</code></td>
<td>Use native intruments lib (ie disable instruments-without-delay).</td>
<td>
<code class="prettyprint">true</code> or <code class="prettyprint">false</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">nativeWebTap</code></td>
<td>(Sim-only) Enable “real”, non-javascript-based web taps in Safari. Default: <code class="prettyprint">false</code>. Warning: depending on viewport size/ratio this might not accurately tap an element</td>
<td>
<code class="prettyprint">true</code> or <code class="prettyprint">false</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">safariAllowPopups</code></td>
<td>(Sim-only) Allow javascript to open new windows in Safari. Default keeps current sim setting</td>
<td>
<code class="prettyprint">true</code> or <code class="prettyprint">false</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">safariIgnoreFraudWarning</code></td>
<td>(Sim-only) Prevent Safari from showing a fraudulent website warning. Default keeps current sim setting.</td>
<td>
<code class="prettyprint">true</code> or <code class="prettyprint">false</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">safariOpenLinksInBackground</code></td>
<td>(Sim-only) Whether Safari should allow links to open in new windows. Default keeps current sim setting.</td>
<td>
<code class="prettyprint">true</code> or <code class="prettyprint">false</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">keepKeyChains</code></td>
<td>(Sim-only) Whether to keep keychains (Library/Keychains) when appium session is started/finished</td>
<td>
<code class="prettyprint">true</code> or <code class="prettyprint">false</code>
</td>
</tr>
<tr>
<td><code class="prettyprint">localizableStringsDir</code></td>
<td>Where to look for localizable strings. Default <code class="prettyprint">en.lproj</code>
</td>
<td><code class="prettyprint">en.lproj</code></td>
</tr>
</tbody>
</table>

<h1 id="finding-and-interacting-with-elements">
<span id="finding-elements.md"></span>Finding and interacting with elements</h1>

<p>Appium supports a subset of the WebDriver locator strategies:</p>

<ul>
<li>find by “class” (i.e., ui component type)</li>
<li>find by “xpath” (i.e., an abstract representation of a path to an element,
with certain constraints)</li>
</ul>

<p>Appium additionally supports some of the <a href="https://code.google.com/p/selenium/source/browse/spec-draft.md?repo=mobile">Mobile JSON Wire Protocol</a> locator strategies</p>

<ul>
<li>
<code class="prettyprint">-ios uiautomation</code>: a string corresponding to a recursive element search
using the UIAutomation library (iOS-only)</li>
<li>
<code class="prettyprint">-android uiautomator</code>: a string corresponding to a recursive element
search using the UiAutomator Api (Android-only)</li>
<li>
<code class="prettyprint">accessibility id</code>: a string corresponding to a recursive element search
using the Id/Name that the native Accessibility options utilize.</li>
</ul>

<h2 id="issues">Issues</h2>

<p>There’s a known issue with table cell elements becoming invalidated before
there’s time to interact with them. We’re working on a fix</p>

<h2 id="using-the-appium-inspector-to-locate-elements">Using The Appium Inspector To Locate Elements</h2>

<p>Appium provides you with a neat tool that allows you to find the the elements
you’re looking for without leaving the Appium app. With the Appium Inspector
(the i symbol next to the start test button) you can find any element and
it’s name by either clicking the element on the preview page provided,
or locating it in the UI navigator.</p>

<h3 id="overview">Overview</h3>

<p>The Appium inspector has a simple layout, complete with a UI navigator,
a preview, and record and refresh buttons, and interaction tools.</p>

<p><img alt="Step 1" src="https://raw.github.com/appium/appium/master/assets/InspectorImages/Overview.png"></p>

<h3 id="example">Example</h3>

<p>After launching the Appium Inspector (you can do this by clicking the small
“i” button in the top right of the app) you can locate any element in the
preview. In this test, I’m looking for the id of the “show alert” button.</p>

<p><img alt="Step 1" src="https://raw.github.com/appium/appium/master/assets/InspectorImages/Step1.png"></p>

<p>To find the id of this button, I click the “show alert” button in the
inspector preview. The Appium inspector then highlights the element in the UI
navigator, showing me both the id and element type of the button I clicked.</p>

<p><img alt="Step 1" src="https://raw.github.com/appium/appium/master/assets/InspectorImages/Step2.png"></p>

<h1 id="selenium-grid">
<span id="grid.md"></span>Selenium Grid</h1>

<p>You are able to register your appium server with a local grid by using the
<strong>“–nodeconfig”</strong> server parameter.</p>
<pre class="highlight shell"><span class="gp">&gt; </span>node . -V --nodeconfig /path/to/nodeconfig.json
</pre>

<p>In the node config file you have to define the <strong>“browserName”</strong>,
<strong>“version”</strong> and <strong>“platform”</strong> and based on these parameters the grid
will re-direct your test to the right device. You will also need to
configure you <strong>host</strong> details and the <strong>selenium grid</strong> details. For
a full list of all parameters and descriptions look
<a href="http://code.google.com/p/selenium/source/browse/java/server/src/org/openqa/grid/common/defaults/GridParameters.properties">here</a></p>

<p>Once you start the appium server and it registers with the grid,
you will see your device on the grid console page:</p>

<p>“http://<strong>&lt;grid-ip-adress&gt;</strong>:<strong>&lt;grid-port&gt;</strong>/grid/console”</p>

<h2 id="grid-node-configuration-example-json-file">Grid Node Configuration Example json file</h2>
<pre class="highlight xml">{
  "capabilities":
      [
        {
          "browserName": "<span class="nt">&lt;e.g._iPhone5_or_iPad4&gt;</span>",
          "version":"<span class="nt">&lt;version_of_iOS_e.g._7.1&gt;</span>",
          "maxInstances": 1,
          "platform":"<span class="nt">&lt;platform_e.g._MAC_or_ANDROID&gt;</span>"
        }
      ],
  "configuration":
  {
    "cleanUpCycle":2000,
    "timeout":30000,
    "proxy": "org.openqa.grid.selenium.proxy.DefaultRemoteProxy",
    "url":"http://<span class="nt">&lt;host_name_appium_server_or_ip-address_appium_server&gt;</span>:<span class="nt">&lt;appium_port&gt;</span>/wd/hub",
    "host": <span class="nt">&lt;host_name_appium_server_or_ip-address_appium_server&gt;</span>,
    "port": <span class="nt">&lt;appium_port&gt;</span>,
    "maxSession": 1,
    "register": true,
    "registerCycle": 5000,
    "hubPort": <span class="nt">&lt;grid_port&gt;</span>,
    "hubHost": "<span class="nt">&lt;Grid_host_name_or_grid_ip-address&gt;</span>"
  }
}
</pre>

<p>Valid platforms are listed <a href="http://selenium.googlecode.com/git/docs/api/java/org/openqa/selenium/Platform.html">here</a></p>

<p>If <code class="prettyprint">url</code>, <code class="prettyprint">host</code>, and <code class="prettyprint">port</code> are not given, the config will be auto updated
to point to localhost:whatever-port-Appium-started-on.</p>

<h1 id="automating-hybrid-apps">
<span id="hybrid.md"></span>Automating hybrid apps</h1>

<p>One of the core principles of Appium is that you shouldn’t have to change
your app to test it. In line with that methodology, it is possible to test
hybrid web apps (e.g., the “UIWebView” elements in an iOS app) the same* way
you can with Selenium for web apps. There is a bit of technical complexity
required so that Appium knows whether you want to automate the native aspects
of the app or the web views, but thankfully, we can stay within the
WebDriver protocol for everything.</p>

<h2 id="automating-hybrid-ios-apps">Automating hybrid iOS apps</h2>

<p>Here are the steps required to talk to a web view in your Appium test:</p>

<ol>
<li> Navigate to a portion of your app where a web view is active</li>
<li> Call <a href="https://code.google.com/p/selenium/source/browse/spec-draft.md?repo=mobile">GET session/:sessionId/contexts</a>
</li>
<li> This returns a list of contexts we can access, like ‘NATIVE_APP’ or ‘WEBVIEW_1’</li>
<li> Call <a href="https://code.google.com/p/selenium/source/browse/spec-draft.md?repo=mobile">POST session/:sessionId/context</a>
with the id of the context you want to access</li>
<li> (This puts your Appium session into a mode where all commands are
interpreted as being intended for automating the web view,
rather than the native portion of the app. For example,
if you run getElementByTagName, it will operate on the DOM of the web
view, rather than return UIAElements. Of course,
certain WebDriver methods only make sense in one context or another,
so in the wrong context you will receive an error message).</li>
<li> To stop automating in the web view context and go back to automating the
native portion of the app, simply call <code class="prettyprint">context</code> again with the native
context id to leave the web frame.</li>
</ol>

<h2 id="execution-against-a-real-ios-device">Execution against a real iOS device</h2>

<p>To interact with a web view appium establishes a connection
using a remote debugger. When executing the examples below against a
simulator this connection can be established directly as the simulator and
the appium server are on the same machine. When executing against a real
device appium is unable to access the web view directly. Therefore the
connection has to be established through the USB lead. To establish this
connection we use the <a href="https://github.com/google/ios-webkit-debug-proxy">ios-webkit-debugger-proxy</a>.</p>

<p>To install the latest tagged version of the ios-webkit-debug-proxy using
brew, run the following commands in the terminal:</p>
<pre class="highlight shell"><span class="c"># The first command is only required if you don't have brew installed.</span>
<span class="gp">&gt; </span>ruby -e <span class="s2">"</span><span class="k">$(</span>curl -fsSL https://raw.github.com/mxcl/homebrew/go/install<span class="k">)</span><span class="s2">"</span>
<span class="gp">&gt; </span>brew update
<span class="gp">&gt; </span>brew install ios-webkit-debug-proxy
</pre>

<p>You can also install the latest proxy by cloning it from git and installing
it yourself:</p>
<pre class="highlight shell"><span class="c"># Please be aware that this will install the proxy with the latest code (and not a tagged version).</span>
<span class="gp">&gt; </span>git clone https://github.com/google/ios-webkit-debug-proxy.git
<span class="gp">&gt; </span><span class="nb">cd </span>ios-webkit-debug-proxy
<span class="gp">&gt; </span>./autogen.sh
<span class="gp">&gt; </span>./configure
<span class="gp">&gt; </span>make
<span class="gp">&gt; </span>sudo make install
</pre>

<p>Once installed you can start the proxy with the following command:</p>
<pre class="highlight shell"><span class="c"># Change the udid to be the udid of the attached device and make sure to set the port to 27753</span>
<span class="c"># as that is the port the remote-debugger uses.</span>
<span class="gp">&gt; </span>ios_webkit_debug_proxy -c 0e4b2f612b65e98c1d07d22ee08678130d345429:27753 -d
</pre>

<p><strong>NOTE:</strong> the proxy requires the <strong>“web inspector”</strong> to be turned on to
allow a connection to be established. Turn it on by going to <strong>settings &gt;
safari &gt; advanced</strong>. Please be aware that the web inspector was <strong>added as
part of iOS 6</strong> and was not available previously.</p>

<h2 id="wd.js-code-example">Wd.js Code example</h2>
<pre class="highlight javascript">  <span class="c1">// assuming we have an initialized `driver` object working on the UICatalog app
</span>  <span class="nx">driver</span><span class="p">.</span><span class="nx">elementByName</span><span class="p">(</span><span class="s1">'Web, Use of UIWebView'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">el</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// find button to nav to view
</span>    <span class="nx">el</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// nav to UIWebView
</span>      <span class="nx">driver</span><span class="p">.</span><span class="nx">contexts</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">contexts</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// get list of available views
</span>        <span class="nx">driver</span><span class="p">.</span><span class="nx">context</span><span class="p">(</span><span class="nx">contexts</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// choose what is probably the webview context
</span>          <span class="nx">driver</span><span class="p">.</span><span class="nx">elementsByCss</span><span class="p">(</span><span class="s1">'.some-class'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">els</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// get webpage elements by css
</span>            <span class="nx">els</span><span class="p">.</span><span class="nx">length</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">above</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="c1">// there should be some!
</span>            <span class="nx">els</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">text</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">elText</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// get text of the first element
</span>              <span class="nx">elText</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">eql</span><span class="p">(</span><span class="s2">"My very own text"</span><span class="p">);</span> <span class="c1">// it should be extremely personal and awesome
</span>              <span class="nx">driver</span><span class="p">.</span><span class="nx">context</span><span class="p">(</span><span class="s1">'NATIVE_APP'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// leave webview context
</span>                <span class="c1">// do more native stuff here if we want
</span>                <span class="nx">driver</span><span class="p">.</span><span class="nx">quit</span><span class="p">();</span> <span class="c1">// stop webdrivage
</span>              <span class="p">});</span>
            <span class="p">});</span>
          <span class="p">});</span>
        <span class="p">});</span>
      <span class="p">});</span>
    <span class="p">});</span>
  <span class="p">});</span>
</pre>

<ul>
<li>For the full context, see <a href="https://github.com/appium/appium/tree/1.0-beta/sample-code/examples/node/hybrid.js">this node example</a>
</li>
<li>*we’re working on filling out the methods available in web view contexts. <a href="http://appium.io/get-involved.html">Join us in our quest!</a>
</li>
</ul>

<h2 id="wd.java-code-example">Wd.java Code example</h2>
<pre class="highlight java">  <span class="c1">//setup the web driver and launch the webview app.</span>
  <span class="n">DesiredCapabilities</span> <span class="n">desiredCapabilities</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DesiredCapabilities</span><span class="o">();</span>
  <span class="n">desiredCapabilities</span><span class="o">.</span><span class="na">setCapability</span><span class="o">(</span><span class="s">"device"</span><span class="o">,</span> <span class="s">"iPhone Simulator"</span><span class="o">);</span>
  <span class="n">desiredCapabilities</span><span class="o">.</span><span class="na">setCapability</span><span class="o">(</span><span class="s">"app"</span><span class="o">,</span> <span class="s">"http://appium.s3.amazonaws.com/WebViewApp6.0.app.zip"</span><span class="o">);</span>
  <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"http://127.0.0.1:4723/wd/hub"</span><span class="o">);</span>
  <span class="n">RemoteWebDriver</span> <span class="n">remoteWebDriver</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RemoteWebDriver</span><span class="o">(</span><span class="n">url</span><span class="o">,</span> <span class="n">desiredCapabilities</span><span class="o">);</span>

  <span class="c1">//switch to the latest web view</span>
  <span class="k">for</span><span class="o">(</span><span class="n">String</span> <span class="n">contextHandle</span> <span class="o">:</span> <span class="n">remoteWebDriver</span><span class="o">.</span><span class="na">getContexts</span><span class="o">()){</span>
    <span class="n">remoteWebDriver</span><span class="o">.</span><span class="na">switchTo</span><span class="o">().</span><span class="na">context</span><span class="o">(</span><span class="n">contextHandle</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="c1">//Interact with the elements on the guinea-pig page using id.</span>
  <span class="n">WebElement</span> <span class="n">div</span> <span class="o">=</span> <span class="n">remoteWebDriver</span><span class="o">.</span><span class="na">findElement</span><span class="o">(</span><span class="n">By</span><span class="o">.</span><span class="na">id</span><span class="o">(</span><span class="s">"i_am_an_id"</span><span class="o">));</span>
  <span class="n">Assert</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="s">"I am a div"</span><span class="o">,</span> <span class="n">div</span><span class="o">.</span><span class="na">getText</span><span class="o">());</span> <span class="c1">//check the text retrieved matches expected value</span>
  <span class="n">remoteWebDriver</span><span class="o">.</span><span class="na">findElement</span><span class="o">(</span><span class="n">By</span><span class="o">.</span><span class="na">id</span><span class="o">(</span><span class="s">"comments"</span><span class="o">)).</span><span class="na">sendKeys</span><span class="o">(</span><span class="s">"My comment"</span><span class="o">);</span> <span class="c1">//populate the comments field by id.</span>

  <span class="c1">//leave the webview to go back to native app.</span>
  <span class="n">remoteWebDriver</span><span class="o">.</span><span class="na">switchTo</span><span class="o">().</span><span class="na">context</span><span class="o">(</span><span class="err">'</span><span class="n">NATIVE_APP</span><span class="err">'</span><span class="o">)</span>

  <span class="c1">//close the app.</span>
  <span class="n">remoteWebDriver</span><span class="o">.</span><span class="na">quit</span><span class="o">();</span>
</pre>

<h2 id="wd.rb-code-example-using-cucumber">Wd.rb Code example using cucumber</h2>
<pre class="highlight ruby"><span class="no">TEST_NAME</span> <span class="o">=</span> <span class="s2">"Example Ruby Test"</span>
<span class="no">SERVER_URL</span> <span class="o">=</span> <span class="s2">"http://127.0.0.1:4723/wd/hub"</span>
<span class="no">APP_PATH</span> <span class="o">=</span> <span class="s2">"https://dl.dropboxusercontent.com/s/123456789101112/ts_ios.zip"</span>
<span class="n">capabilities</span> <span class="o">=</span>
    <span class="p">{</span>
      <span class="s1">'browserName'</span> <span class="o">=&gt;</span> <span class="s1">'iOS 6.0'</span><span class="p">,</span>
      <span class="s1">'platform'</span> <span class="o">=&gt;</span> <span class="s1">'Mac 10.8'</span><span class="p">,</span>
      <span class="s1">'device'</span> <span class="o">=&gt;</span> <span class="s1">'iPhone Simulator'</span><span class="p">,</span>
      <span class="s1">'app'</span> <span class="o">=&gt;</span> <span class="no">APP_PATH</span><span class="p">,</span>
      <span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="no">TEST_NAME</span>
    <span class="p">}</span>
<span class="vi">@driver</span> <span class="o">=</span> <span class="no">Selenium</span><span class="o">::</span><span class="no">WebDriver</span><span class="p">.</span><span class="nf">for</span><span class="p">(</span><span class="ss">:remote</span><span class="p">,</span> <span class="ss">:desired_capabilities</span> <span class="o">=&gt;</span> <span class="n">capabilities</span><span class="p">,</span> <span class="ss">:url</span> <span class="o">=&gt;</span> <span class="no">SERVER_URL</span><span class="p">)</span>

<span class="c1"># I switch to the last window because its always the webview in our case, in other cases you may need to specify a window number</span>
<span class="c1"># View the appium logs while running @driver.window_handles to figure out which window is the one you want and find the associated number</span>
<span class="c1"># Then switch to it using @driver.switch_to_window("6")</span>

<span class="no">Given</span><span class="p">(</span><span class="sr">/^I switch to webview$/</span><span class="p">)</span> <span class="k">do</span>
  <span class="n">webview</span> <span class="o">=</span> <span class="vi">@driver</span><span class="p">.</span><span class="nf">contexts</span><span class="p">.</span><span class="nf">last</span>
  <span class="vi">@driver</span><span class="p">.</span><span class="nf">switch_to</span><span class="p">.</span><span class="nf">context</span><span class="p">(</span><span class="n">webview</span><span class="p">)</span>
<span class="k">end</span>

<span class="no">Given</span><span class="p">(</span><span class="sr">/^I switch out of webview$/</span><span class="p">)</span> <span class="k">do</span>
  <span class="vi">@driver</span><span class="p">.</span><span class="nf">switch_to</span><span class="p">(</span><span class="vi">@driver</span><span class="p">.</span><span class="nf">contexts</span><span class="p">.</span><span class="nf">first</span><span class="p">)</span>
<span class="k">end</span>

<span class="c1"># Now you can use CSS to select an element inside your webview</span>

<span class="no">And</span><span class="p">(</span><span class="sr">/^I click a webview button $/</span><span class="p">)</span> <span class="k">do</span>
  <span class="vi">@driver</span><span class="p">.</span><span class="nf">find_element</span><span class="p">(</span><span class="ss">:css</span><span class="p">,</span> <span class="s2">".green_button"</span><span class="p">).</span><span class="nf">click</span>
<span class="k">end</span>
</pre>

<h3 id="troubleshooting-webview-with-ruby:">Troubleshooting Webview with Ruby:</h3>

<p>I created a quick function in my helper class to find web elements no matter
what window its in (this is useful if your webview id changes or if you are
using the same codebase to test android and ios)
https://gist.github.com/feelobot/7309729</p>

<h2 id="wd.py-code-example">Wd.py Code example</h2>
<pre class="highlight python"><span class="n">APP_PATH</span> <span class="o">=</span> <span class="s">"https://dl.dropboxusercontent.com/s/123456789101112/ts_ios.zip"</span>
<span class="n">capabilities</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'browserName'</span><span class="p">:</span> <span class="s">'iOS 6.0'</span><span class="p">,</span>
    <span class="s">'platform'</span><span class="p">:</span> <span class="s">'Mac 10.8'</span><span class="p">,</span>
    <span class="s">'device'</span><span class="p">:</span> <span class="s">'iPhone Simulator'</span><span class="p">,</span>
    <span class="s">'app'</span><span class="p">:</span> <span class="n">APP_PATH</span><span class="p">,</span>
    <span class="s">'name'</span><span class="p">:</span> <span class="s">"Example Python Test"</span>
<span class="p">}</span>
<span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Remote</span><span class="p">(</span><span class="s">'http://localhost:4723/wd/hub'</span><span class="p">,</span> <span class="n">capabilities</span><span class="p">)</span>

<span class="c"># switch to webview</span>
<span class="n">webview</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">contexts</span><span class="o">.</span><span class="n">last</span>
<span class="n">driver</span><span class="o">.</span><span class="n">switch_to</span><span class="o">.</span><span class="n">context</span><span class="p">(</span><span class="n">webview</span><span class="p">)</span>

<span class="c"># do some webby stuff</span>
<span class="n">driver</span><span class="o">.</span><span class="n">find_element</span><span class="p">(:</span><span class="n">css</span><span class="p">,</span> <span class="s">".green_button"</span><span class="p">)</span><span class="o">.</span><span class="n">click</span>

<span class="c"># switch back to native view</span>
<span class="n">driver</span><span class="o">.</span><span class="n">switch_to</span><span class="p">(</span><span class="n">driver</span><span class="o">.</span><span class="n">contexts</span><span class="o">.</span><span class="n">first</span><span class="p">)</span>

<span class="c"># Now you can use CSS to select an element inside your webview</span>
</pre>

<h2 id="automating-hybrid-android-apps">Automating hybrid Android apps</h2>

<p>Appium comes with built-in hybrid support via Chromedriver. Appium also uses
Selendroid under the hood for webview support on devices older than 4.4. (In
that case, you’ll want to specify <code class="prettyprint">"device": "selendroid"</code> as a desired
capability). Then follow all the same steps as above for iOS, i.e.,
switching contexts, etc…</p>

<h2 id="wd.js-code-example">Wd.js Code example</h2>
<pre class="highlight javascript"><span class="c1">// assuming we have an initialized `driver` object working on a hybrid app
</span><span class="nx">driver</span><span class="p">.</span><span class="nx">context</span><span class="p">(</span><span class="s2">"WEBVIEW"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// choose the only available view
</span>  <span class="nx">driver</span><span class="p">.</span><span class="nx">elementsByCss</span><span class="p">(</span><span class="s1">'.some-class'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">els</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// get webpage elements by css
</span>    <span class="nx">els</span><span class="p">.</span><span class="nx">length</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">above</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="c1">// there should be some!
</span>    <span class="nx">els</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">text</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">elText</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// get text of the first element
</span>      <span class="nx">elText</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">eql</span><span class="p">(</span><span class="s2">"My very own text"</span><span class="p">);</span> <span class="c1">// it should be extremely personal and awesome
</span>      <span class="nx">driver</span><span class="p">.</span><span class="nx">context</span><span class="p">(</span><span class="s2">"NATIVE_APP"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// leave webview context
</span>        <span class="c1">// do more native stuff here if we want
</span>        <span class="nx">driver</span><span class="p">.</span><span class="nx">quit</span><span class="p">();</span> <span class="c1">// stop webdrivage
</span>      <span class="p">});</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">});</span>
</pre>

<h2 id="wd.java-code-example">Wd.java Code example</h2>
<pre class="highlight java">  <span class="c1">//setup the web driver and launch the webview app.</span>
  <span class="n">DesiredCapabilities</span> <span class="n">desiredCapabilities</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DesiredCapabilities</span><span class="o">();</span>
  <span class="n">desiredCapabilities</span><span class="o">.</span><span class="na">setCapability</span><span class="o">(</span><span class="s">"device"</span><span class="o">,</span> <span class="s">"Selendroid"</span><span class="o">);</span>
  <span class="n">desiredCapabilities</span><span class="o">.</span><span class="na">setCapability</span><span class="o">(</span><span class="s">"app"</span><span class="o">,</span> <span class="s">"/path/to/some.apk"</span><span class="o">);</span>
  <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"http://127.0.0.1:4723/wd/hub"</span><span class="o">);</span>
  <span class="n">RemoteWebDriver</span> <span class="n">remoteWebDriver</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RemoteWebDriver</span><span class="o">(</span><span class="n">url</span><span class="o">,</span> <span class="n">desiredCapabilities</span><span class="o">);</span>

  <span class="c1">//switch to the web view</span>
  <span class="n">remoteWebDriver</span><span class="o">.</span><span class="na">switchTo</span><span class="o">().</span><span class="na">context</span><span class="o">(</span><span class="s">"WEBVIEW"</span><span class="o">);</span>

  <span class="c1">//Interact with the elements on the guinea-pig page using id.</span>
  <span class="n">WebElement</span> <span class="n">div</span> <span class="o">=</span> <span class="n">remoteWebDriver</span><span class="o">.</span><span class="na">findElement</span><span class="o">(</span><span class="n">By</span><span class="o">.</span><span class="na">id</span><span class="o">(</span><span class="s">"i_am_an_id"</span><span class="o">));</span>
  <span class="n">Assert</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="s">"I am a div"</span><span class="o">,</span> <span class="n">div</span><span class="o">.</span><span class="na">getText</span><span class="o">());</span> <span class="c1">//check the text retrieved matches expected value</span>
  <span class="n">remoteWebDriver</span><span class="o">.</span><span class="na">findElement</span><span class="o">(</span><span class="n">By</span><span class="o">.</span><span class="na">id</span><span class="o">(</span><span class="s">"comments"</span><span class="o">)).</span><span class="na">sendKeys</span><span class="o">(</span><span class="s">"My comment"</span><span class="o">);</span> <span class="c1">//populate the comments field by id.</span>

  <span class="c1">//leave the webview to go back to native app.</span>
  <span class="n">remoteWebDriver</span><span class="o">.</span><span class="na">switchTo</span><span class="o">().</span><span class="na">context</span><span class="o">(</span><span class="s">"NATIVE_APP"</span><span class="o">);</span>

  <span class="c1">//close the app.</span>
  <span class="n">remoteWebDriver</span><span class="o">.</span><span class="na">quit</span><span class="o">();</span>
</pre>

<h2 id="wd.py-code-example">Wd.py Code example</h2>
<pre class="highlight python"><span class="c"># assuming we have an initialized `driver` object working on a hybrid app</span>
<span class="n">driver</span><span class="o">.</span><span class="n">switch_to</span><span class="o">.</span><span class="n">context</span><span class="p">(</span><span class="s">"WEBVIEW"</span><span class="p">)</span>
<span class="n">elements</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_elements_by_css_selector</span><span class="p">(</span><span class="s">'.some-class'</span><span class="p">)</span>
<span class="n">assertLess</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">))</span>
<span class="n">assertEqual</span><span class="p">(</span><span class="s">'My very own text'</span><span class="p">,</span> <span class="n">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>

<span class="n">driver</span><span class="o">.</span><span class="n">switch_to</span><span class="o">.</span><span class="n">context</span><span class="p">(</span><span class="s">"NATIVE_APP"</span><span class="p">)</span>
<span class="n">driver</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</pre>

<h1 id="deploying-your-ios-app-to-your-device">
<span id="ios-deploy.md"></span>Deploying your iOS app to your device</h1>

<p>To prepare for your Appium tests to run on a real device, you will need to:</p>

<ol>
<li>Build your app with specific device-targeted parameters</li>
<li>Use <a href="https://github.com/ghughes/fruitstrap">fruitstrap</a>, a 3rd-party tool,
to deploy this build to your device</li>
</ol>

<h2 id="xcodebuild-with-parameters:">Xcodebuild with parameters:</h2>

<p>A newer xcodebuild now allows settings to be specified. Taken from <a href="https://developer.apple.com/library/mac/#documentation/Darwin/Reference/ManPages/man1/xcodebuild.1.html">developer.apple.com</a>:</p>
<pre class="highlight plaintext">xcodebuild [-project projectname] [-target targetname ...]
             [-configuration configurationname] [-sdk [sdkfullpath | sdkname]]
             [buildaction ...] [setting=value ...] [-userdefault=value ...]
</pre>

<p>This is a resource to explore the available <a href="https://developer.apple.com/library/mac/#documentation/DeveloperTools/Reference/XcodeBuildSettingRef/1-Build_Setting_Reference/build_setting_ref.html#//apple_ref/doc/uid/TP40003931-CH3-DontLinkElementID_10">settings</a></p>
<pre class="highlight plaintext">CODE_SIGN_IDENTITY (Code Signing Identity)
    Description: Identifier. Specifies the name of a code signing identity.
    Example value: iPhone Developer
</pre>

<p>PROVISIONING_PROFILE is missing from the index of available commands,
but may be necessary.</p>

<p>Specify “CODE_SIGN_IDENTITY” &amp; “PROVISIONING_PROFILE” settings in the
xcodebuild command:</p>
<pre class="highlight plaintext">xcodebuild -sdk &lt;iphoneos&gt; -target &lt;target_name&gt; -configuration &lt;Debug&gt; CODE_SIGN_IDENTITY="iPhone Developer: Mister Smith" PROVISIONING_PROFILE="XXXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXX"
</pre>

<p>On success, the app will be built to your <code class="prettyprint">&lt;app_dir&gt;/build/&lt;configuration&gt;-iphoneos/&lt;app_name&gt;.app</code></p>

<h2 id="deploy-using-fruitstrap">Deploy using Fruitstrap</h2>

<p>Go clone a forked version of fruitstrap as the <a href="https://github.com/ghughes/fruitstrap">ghughes version</a>
is no longer maintained. Success has been confirmed with the <a href="https://github.com/unprompted/fruitstrap">unprompted fork</a>,
but others are reportedly functional.</p>

<p>Once cloned, run <code class="prettyprint">make fruitstrap</code>
Now, copy the resulting <code class="prettyprint">fruitstrap</code> executable to your app’s project or a
parent directory.</p>

<p>Execute fruitstrap after a clean build by running (commands available depend
on your fork of fruitstrap):</p>
<pre class="highlight plaintext">./fruitstrap -d -b &lt;PATH_TO_APP&gt; -i &lt;Device_UDID&gt;
</pre>

<p>If you are aiming to use continuous integration in this setup,
you may find it useful to want to log the output of fruitstrap to both
command line and log, like so:</p>
<pre class="highlight plaintext">./fruitstrap -d -b &lt;PATH_TO_APP&gt; -i &lt;Device_UDID&gt; 2&gt;&amp;1 | tee fruit.out
</pre>

<p>Since fruitstrap will need to be killed before the node server can be
launched, an option is to scan the output of the fruitstrap launch for some
telling sign that the app has completed launching. This may prove useful if
you are doing this via a Rakefile and a <code class="prettyprint">go_device.sh</code> script:</p>
<pre class="highlight plaintext">bundle exec rake ci:fruit_deploy_app | while read line ; do 
   echo "$line" | grep "text to identify successful launch" 
   if [ $? = 0 ] 
   then 
   # Actions 
       echo "App finished launching: $line" 
       sleep 5 
       kill -9 `ps -aef | grep fruitstrap | grep -v grep | awk '{print $2}'` 
   fi
 done
</pre>

<p>Once fruitstrap is killed, node server can be launched and Appium tests can run!</p>

<p>Next: <a href="#real-devices.md">Running Appium on Real Devices</a></p>

<h1 id="automating-mobile-web-apps">
<span id="mobile-web.md"></span>Automating mobile web apps</h1>

<p>If you’re interested in automating your web app in Mobile Safari on iOS or
Chrome on Android, Appium can help you. Basically, you write a normal WebDriver
test, and use Appium as the Selenium server with a special set of desired
capabilities.</p>

<h2 id="mobile-safari-on-simulator">Mobile Safari on Simulator</h2>

<p>First of all, make sure developer mode is turned on in your Safari
preferences so that the remote debugger port is open.</p>

<p>If you are using the simulator or a real device, you MUST run Safari before
attempting to use Appium.</p>

<p>Then, use desired capabilities like these to run your test in mobile Safari:</p>
<pre class="highlight javascript"><span class="p">{</span>
  <span class="na">platformName</span><span class="p">:</span> <span class="s1">'iOS'</span>
  <span class="p">,</span> <span class="na">platformVersion</span><span class="p">:</span> <span class="s1">'7.1'</span>
  <span class="p">,</span> <span class="na">browserName</span><span class="p">:</span> <span class="s1">'Safari'</span>
  <span class="p">,</span> <span class="na">deviceName</span><span class="p">:</span> <span class="s1">'iPhone Simulator'</span>
<span class="p">}</span>
</pre>
<pre class="highlight python"><span class="p">{</span>
  <span class="s">'platformName'</span><span class="p">:</span> <span class="s">'iOS'</span><span class="p">,</span>
  <span class="s">'platformVersion'</span><span class="p">:</span> <span class="s">'7.1'</span><span class="p">,</span>
  <span class="s">'browserName'</span><span class="p">:</span> <span class="s">'Safari'</span><span class="p">,</span>
  <span class="s">'deviceName'</span><span class="p">:</span> <span class="s">'iPhone Simulator'</span>
<span class="p">}</span>
</pre>

<h2 id="mobile-safari-on-a-real-ios-device">Mobile Safari on a Real iOS Device</h2>

<p>To be able to run your tests against mobile Safari we use the <a href="https://github.com/snevesbarros/SafariLauncher">SafariLauncher
 App</a> to launch Safari. Once
 Safari has been launched the Remote Debugger automatically connects using
 the <a href="https://github.com/google/ios-webkit-debug-proxy">ios-webkit-webkit-proxy</a>.</p>

<p><strong>NOTE:</strong> There is currently <a href="https://github.com/google/ios-webkit-debug-proxy/issues/38">a bug</a>
in the ios-webkit-debug-proxy. You have to trust the machine before you can
run the ios-webkit-debug-proxy
against your iOS device.</p>

<h2 id="setup">Setup</h2>

<p>Before you can run your tests against Safari on a real device you will need to:
* Have the <strong>ios-webkit-debug-proxy</strong> installed, running and listening on port 27753 (see the
<a href="#hybrid.md">hybrid docs</a> for instructions)
* Turn on <strong>web inspector</strong> on iOS device (<strong>settings &gt; safari &gt;
advanced</strong>, only for iOS 6.0 and up)
* Create a <strong>provisioning profile</strong> that can be used to deploy the SafariLauncherApp.</p>

<p>To create a profile for the launcher go into the <strong>Apple Developers Member Center</strong> and:
  * <strong>Step 1:</strong> Create a <strong>new App Id</strong> and select the WildCard App ID option and set it to “<em>”
  * **Step 2:</em>* Create a <strong>new Development Profile</strong> and for App Id select the one created in step 1.
  * <strong>Step 3:</strong> Select your <strong>certificate(s) and device(s)</strong> and click next.
  * <strong>Step 4:</strong> Set the profile name and <strong>generate the profile</strong>.
  * <strong>Step 5:</strong> Download the profile and open it with a text editor.
  * <strong>Step 6:</strong> Search for the <strong>UUID</strong> and the string for it is your <strong>identity code</strong>.</p>

<p>Now that you have a profile open a terminal and run the following commands:</p>
<pre class="highlight shell"><span class="gp">$ </span>git clone https://github.com/appium/appium.git
<span class="gp">$ </span><span class="nb">cd </span>appium

<span class="c"># Option 1: You dont define any parameters and it will set the code signing identity to 'iPhone Developer'</span>
<span class="gp">$ </span>./reset.sh --ios --real-safari

<span class="c"># Option 2: You define the code signing identity and allow xcode to select the profile identity code (if it can).</span>
<span class="gp">$ </span>./reset.sh --ios --real-safari --code-sign <span class="s1">'&lt;code signing idendity&gt;'</span>

<span class="c"># Option 3: You define both the code signing identity and profile identity code.</span>
<span class="gp">$ </span>./reset.sh --ios --real-safari --code-sign <span class="s1">'&lt;code signing idendity&gt;'</span> --profile <span class="s1">'&lt;retrieved profile identity code&gt;'</span>

<span class="c"># Once successfully configured and with the safari launcher built, start the server as per usual</span>
<span class="gp">$ </span>node /lib/server/main.js -U &lt;UDID&gt;
</pre>

<h2 id="running-your-test">Running your test</h2>

<p>To configure you test to run against safari simply set the <strong>“browserName”</strong> to be <strong>“Safari”</strong>.</p>

<h2 id="java-example">Java Example</h2>
<pre class="highlight java"><span class="c1">//setup the web driver and launch the webview app.</span>
<span class="n">DesiredCapabilities</span> <span class="n">desiredCapabilities</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DesiredCapabilities</span><span class="o">();</span>
<span class="n">desiredCapabilities</span><span class="o">.</span><span class="na">setCapability</span><span class="o">(</span><span class="s">"browserName"</span><span class="o">,</span> <span class="s">"Safari"</span><span class="o">);</span>
<span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"http://127.0.0.1:4723/wd/hub"</span><span class="o">);</span>
<span class="n">RemoteWebDriver</span> <span class="n">remoteWebDriver</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RemoteWebDriver</span><span class="o">(</span><span class="n">url</span><span class="o">,</span> <span class="n">desiredCapabilities</span><span class="o">);</span>

<span class="c1">// Navigate to the page and interact with the elements on the guinea-pig page using id.</span>
<span class="n">remoteWebDriver</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"http://saucelabs.com/test/guinea-pig"</span><span class="o">);</span>
<span class="n">WebElement</span> <span class="n">div</span> <span class="o">=</span> <span class="n">remoteWebDriver</span><span class="o">.</span><span class="na">findElement</span><span class="o">(</span><span class="n">By</span><span class="o">.</span><span class="na">id</span><span class="o">(</span><span class="s">"i_am_an_id"</span><span class="o">));</span>
<span class="n">Assert</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="s">"I am a div"</span><span class="o">,</span> <span class="n">div</span><span class="o">.</span><span class="na">getText</span><span class="o">());</span> <span class="c1">//check the text retrieved matches expected value</span>
<span class="n">remoteWebDriver</span><span class="o">.</span><span class="na">findElement</span><span class="o">(</span><span class="n">By</span><span class="o">.</span><span class="na">id</span><span class="o">(</span><span class="s">"comments"</span><span class="o">)).</span><span class="na">sendKeys</span><span class="o">(</span><span class="s">"My comment"</span><span class="o">);</span> <span class="c1">//populate the comments field by id.</span>

<span class="c1">//close the app.</span>
<span class="n">remoteWebDriver</span><span class="o">.</span><span class="na">quit</span><span class="o">();</span>
</pre>

<h2 id="python-example">Python Example</h2>
<pre class="highlight python"><span class="c"># setup the web driver and launch the webview app.</span>
<span class="n">capabilities</span> <span class="o">=</span> <span class="p">{</span> <span class="s">'browserName'</span><span class="p">:</span> <span class="s">'Safari'</span> <span class="p">}</span>
<span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Remote</span><span class="p">(</span><span class="s">'http://localhost:4723/wd/hub'</span><span class="p">,</span> <span class="n">capabilities</span><span class="p">)</span>

<span class="c"># Navigate to the page and interact with the elements on the guinea-pig page using id.</span>
<span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'http://saucelabs.com/test/guinea-pig'</span><span class="p">);</span>
<span class="n">div</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s">'i_am_an_id'</span><span class="p">)</span>
<span class="c"># check the text retrieved matches expected value</span>
<span class="n">assertEqual</span><span class="p">(</span><span class="s">'I am a div'</span><span class="p">,</span> <span class="n">div</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>

<span class="c"># populate the comments field by id</span>
<span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s">'comments'</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s">'My comment'</span><span class="p">)</span>

<span class="c"># close the driver</span>
<span class="n">driver</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</pre>

<h2 id="mobile-chrome-on-emulator-or-real-device">Mobile Chrome on Emulator or Real Device</h2>

<p>Pre-requisites:</p>

<ul>
<li> Make sure Chrome (an app with the package <code class="prettyprint">com.android.chrome</code>) is installed on your device or emulator. Getting Chrome for the x86 version of the emulator is not currently possible without building Chromium, so you may want to run an ARM emulator and then copy a Chrome APK from a real device to get Chrome on an emulator.</li>
<li> If downloaded from <a href="https://www.npmjs.org/package/appium">NPM</a>, or running from the <a href="https://github.com/appium/appium-dot-app">.app</a>, nothing needs to be done. If running from source, the <code class="prettyprint">reset</code> script will download ChromeDriver and put it in <code class="prettyprint">build</code>. A particular version can be specified by passing the <code class="prettyprint">--chromedriver-version</code> option (e.g., <code class="prettyprint">./reset.sh --android --chromedriver-version 2.8</code>), otherwise the most recent one will be retrieved.</li>
</ul>

<p>Then, use desired capabilities like these to run your test in Chrome:</p>
<pre class="highlight javascript"><span class="p">{</span>
  <span class="na">platformName</span><span class="p">:</span> <span class="s1">'Android'</span>
  <span class="p">,</span> <span class="na">platformVersion</span><span class="p">:</span> <span class="s1">'4.4'</span>
  <span class="p">,</span> <span class="na">deviceName</span><span class="p">:</span> <span class="s1">'Android Emulator'</span>
  <span class="p">,</span> <span class="na">browserName</span><span class="p">:</span> <span class="s1">'Chrome'</span>
<span class="p">};</span>
</pre>
<pre class="highlight python"><span class="p">{</span>
  <span class="s">'platformName'</span><span class="p">:</span> <span class="s">'Android'</span><span class="p">,</span>
  <span class="s">'platformVersion'</span><span class="p">:</span> <span class="s">'4.4'</span><span class="p">,</span>
  <span class="s">'deviceName'</span><span class="p">:</span> <span class="s">'Android Emulator'</span><span class="p">,</span>
  <span class="s">'browserName'</span><span class="p">:</span> <span class="s">'Chrome'</span>
<span class="p">}</span>
</pre>

<p>Note that on 4.4+ devices, you can also use the ‘Browser’ <code class="prettyprint">browserName</code> cap to automate the built-in browser. On all devices you can use the ‘Chromium’ <code class="prettyprint">browserName</code> cap to automate a build of Chromium.</p>

<h1 id="troubleshooting-appium">
<span id="troubleshooting.md"></span>Troubleshooting Appium</h1>

<p>Here’s what to do if you’re experiencing problems, before you submit a ticket
to github or write to the appium-discuss mailing list.</p>

<h2 id="general">General</h2>

<ul>
<li>Make sure you’ve followed the getting started steps in the <a href="#README.md">README</a>
</li>
<li>Make sure your system is set up appropriately (i.e., XCode is updated,
Android SDK is installed and <code class="prettyprint">ANDROID_HOME</code> is set:
<a href="#running-on-osx.md">setup instructions</a>
</li>
<li>Make sure the paths to your applications are correct</li>
</ul>

<h2 id="if-you're-running-appium.app">If you’re running Appium.app</h2>

<ul>
<li>Update the app and restart. If you get a message saying the app can’t be updated,
re-download it from <a href="http://appium.io">appium.io</a>.</li>
</ul>

<h2 id="if-you're-running-appium-from-source">If you’re running Appium from source</h2>

<ul>
<li>
<code class="prettyprint">git pull</code> to make sure you’re running the latest code</li>
<li>
<p>Run the appropriate flavor of <code class="prettyprint">reset.sh</code> based on what you’re trying to
automate:</p>

<p>./reset.sh               # all
./reset.sh –ios         # ios-only
./reset.sh –android     # android-only
./reset.sh –selendroid  # selendroid-only</p>
</li>
<li><p>You might also want to run <code class="prettyprint">reset.sh</code> with the <code class="prettyprint">--dev</code> flag if you want the
test apps downloaded and built as well.</p></li>
<li><p>You can also use <code class="prettyprint">appium-doctor</code> to automatically verify that all
dependencies are met. If running from source, you may have to use
<code class="prettyprint">bin/appium-doctor.js</code> or <code class="prettyprint">node bin/appium-doctor.js</code>.</p></li>
<li><p>If you get this error after upgrading to Android SDK 22: 
<code class="prettyprint">{ANDROID_HOME}/tools/ant/uibuild.xml:155: SDK does not have any Build Tools installed.</code>
In the Android SDK 22, the platform and build tools are split up into their
own items in the SDK manager. Make sure you install the build-tools and platform-tools.</p></li>
</ul>

<h2 id="android">Android</h2>

<ul>
<li>Make sure the Android emulator is up and running.</li>
<li>It’s sometimes useful to run <code class="prettyprint">adb kill-server &amp;&amp; adb devices</code>. This can
reset the connection to the Android device.</li>
<li>Make sure you set ANDROID_HOME pointing to the Android SDK directory</li>
</ul>

<h2 id="ios">IOS</h2>

<ul>
<li>Make sure Instruments.app is not open</li>
<li>If you’re running the simulator, make sure your actual device is not
plugged in</li>
<li>Make sure the accessibility helper is turned off in your Settings app </li>
<li>Make sure the app is compiled for the version of the simulator that’s being
run</li>
<li>If you’ve ever run Appium with sudo, you might need to <code class="prettyprint">sudo rm
/tmp/instruments_sock</code> and try again as not-sudo.</li>
<li>If this is the first time you’ve run Appium, make sure to authorize the use
of Instruments. Usually a box will pop up that you enter your password into
. If you’re running Appium from source, you can simply run <code class="prettyprint">sudo grunt authorize</code>
from the main repo to avoid getting this popup. If you’re running from npm,
run <code class="prettyprint">sudo authorize_ios</code> instead.</li>
<li>If you see <code class="prettyprint">iOS Simulator failed to install the application.</code> and the
paths are correct, try restarting the computer.</li>
</ul>

<h2 id="webview/hybrid/safari-app-support">Webview/Hybrid/Safari app support</h2>

<ul>
<li>Make Sure you enable the ‘Web Inspector’ on the real device.</li>
<li>Make Sure you enable the Safari - Advance Preferences- Developer menu for
simulators.</li>
<li>If you getting this error: select_port() failed, when trying to open the
proxy, see this <a href="https://groups.google.com/forum/#!topic/appium-discuss/tw2GaSN8WX0">discussion</a>
</li>
</ul>

<h2 id="firefoxos">FirefoxOS</h2>

<ul>
<li>Make sure the Boot-to-Gecko simulator is up and running.</li>
<li>Make sure the simulator screen is alive and unlocked (might require restarting B2G).</li>
</ul>

<h2 id="let-the-community-know">Let the community know</h2>

<p>Once you’ve tried the above steps and your issue still isn’t resolved,
here’s what you can do:</p>

<p>If you’ve found what you believe is a bug, go straight to the <a href="https://github.com/appium/appium/issues">issue tracker</a>
and submit an issue describing the bug and a repro case.</p>

<p>If you’re having trouble getting Appium working and the error messages Appium
provides are not clear, join the <a href="https://groups.google.com/d/forum/appium-discuss">mailing list</a>
and send a message. Please include the following:</p>

<ul>
<li>How you’re running Appium (Appium.app, npm, source)</li>
<li>The client-side and server-side errors you’re getting (i.e.,
“In Python this is the exception I get in my test script,
and here’s a link to a paste of the Appium server output)</li>
<li>Per above, it’s very important to include a paste of the Appium server
output when it’s run in verbose mode so that we can diagnose what’s going on.</li>
</ul>

<h2 id="known-issues">Known Issues</h2>

<ul>
<li>If you’ve installed Node from the Node website, it requires that you use sudo
for <code class="prettyprint">npm</code>. This is not ideal. Try to get node with 
[n](https://github.com/visionmedia/n) or <code class="prettyprint">brew install node</code> instead!</li>
<li>Webview support works on real iOS devices with a proxy, see <a href="https://groups.google.com/d/msg/appium-discuss/u1ropm4OEbY/uJ3y422a5_kJ">discussion</a>.</li>
<li>Sometimes iOS UI elements become invalidated milliseconds after they are
found. This results in an error that looks like <code class="prettyprint">(null) cannot be tapped</code>.
Sometimes the only solution is to put the finding-and-clicking code in a retry
block.</li>
<li>Appium may have difficulties finding the <code class="prettyprint">node</code> executable if you’ve
installed Node and npm via MacPorts. You must make sure that the MacPorts bin
folder (<code class="prettyprint">/opt/local/bin</code> by default) is added to <code class="prettyprint">PATH</code> somewhere in your
<code class="prettyprint">~/.profile</code>, <code class="prettyprint">~/.bash_profile</code> or <code class="prettyprint">~/.bashrc</code>.</li>
</ul>

<h2 id="specific-errors">Specific Errors</h2>

<table>
<thead>
<tr>
<th>Action</th>
<th>Error</th>
<th>Resolution</th>
</tr>
</thead>
<tbody>
<tr>
<td>Running reset.sh</td>
<td>xcodebuild: error: SDK "iphonesimulator6.1” cannot be located</td>
<td>Install the iPhone 6.1 SDK <em>or</em> build the test apps with a separate SDK, e.g., <code class="prettyprint">grunt buildApp:UICatalog:iphonesimulator5.1</code>
</td>
</tr>
</tbody>
</table>

<h1 id="migrating-your-tests-from-appium-0.18.x-to-appium-1.x">
<span id="migrating-to-1-0.md"></span>Migrating your tests from Appium 0.18.x to Appium 1.x</h1>

<p>Appium 1.0 has removed a number of deprecated features from the previous versions. This guide will help you know what needs to change in your test suite to take advantage of Appium 1.0.</p>

<h2 id="new-client-libraries">New client libraries</h2>

<p>The biggest thing you need to worry about is using the new Appium client libraries instead of the vanilla WebDriver clients you are currently using. Visit the <a href="#appium-clients.md">Appium client list</a> to find the client for your language. Downloads and instructions for integrating into your code are available on the individual client websites.</p>

<p>Ultimately, you’ll be doing something like (to use Python as an example):</p>
<pre class="highlight plaintext">from appium import webdriver
</pre>

<p>Instead of:</p>
<pre class="highlight plaintext">from selenium import webdriver
</pre>

<h2 id="new-desired-capabilities">New desired capabilities</h2>

<p>The following capabilities are no longer used:</p>

<ul>
<li><code class="prettyprint">device</code></li>
<li><code class="prettyprint">version</code></li>
</ul>

<p>Instead, use these capabilities:</p>

<ul>
<li>
<code class="prettyprint">platformName</code> (either “iOS” or “Android”)</li>
<li>
<code class="prettyprint">platformVersion</code> (the mobile OS version you want)</li>
<li>
<code class="prettyprint">deviceName</code> (the kind of device you want, like “iPhone Simulator”)</li>
<li>
<code class="prettyprint">automationName</code> (“Selendroid” if you want to use Selendroid, otherwise, this can be omitted)</li>
</ul>

<p>The <code class="prettyprint">app</code> capability remains the same, but now refers exclusively to non-browser apps. To use browsers like Safari or Chrome, use the standard <code class="prettyprint">browserName</code> cap. This means that <code class="prettyprint">app</code> and <code class="prettyprint">browserName</code> are exclusive.</p>

<p>We have also standardized on camelCase for Appium server caps. That means caps like <code class="prettyprint">app-package</code> or <code class="prettyprint">app-wait-activity</code> are now <code class="prettyprint">appPackage</code> and <code class="prettyprint">appWaitActivity</code> respectively. Of course, since Android app package and activity are now auto-detected, you should be able to omit them entirely in most cases.</p>

<h2 id="new-locator-strategies">New locator strategies</h2>

<p>We’ve removed the following locator strategies:</p>

<ul>
<li><code class="prettyprint">name</code></li>
<li><code class="prettyprint">tag name</code></li>
</ul>

<p>We have now added the <code class="prettyprint">accessibility_id</code> strategy to do what <code class="prettyprint">name</code> used to do. The specifics will be relative to your Appium client.</p>

<p><code class="prettyprint">tag name</code> has been replaced by <code class="prettyprint">class name</code>. So to find an element by its UI type, use the class name locator strategy for your client.</p>

<p>Note about <code class="prettyprint">class name</code> and <code class="prettyprint">xpath</code> strategies: these now require the fully-qualified class name for your element. This means that if you had an xpath selector that looked like this:</p>
<pre class="highlight plaintext">//table/cell/button
</pre>

<p>It would now need to be:</p>
<pre class="highlight plaintext">//UIATableView/UIATableCell/UIAButton
</pre>

<p>(And likewise for Android: <code class="prettyprint">button</code> now needs to be <code class="prettyprint">android.widget.Button</code>)</p>

<p>We’ve also added the following locator strategies:</p>

<ul>
<li><code class="prettyprint">-ios uiautomation</code></li>
<li><code class="prettyprint">-android uiautomator</code></li>
</ul>

<p>Refer to your client for ways to use these new locator strategies.</p>

<h2 id="xml,-not-json">XML, not JSON</h2>

<p>App source methods, which previously returned JSON, now return XML, so if you have code that relies on parsing the app source, it will need to be updated.</p>

<h2 id="hybrid-support-through-context,-not-window">Hybrid support through context, not window</h2>

<p>Hybrid apps were previously supported by switching between “windows” using</p>

<ul>
<li><code class="prettyprint">window_handles</code></li>
<li><code class="prettyprint">window</code></li>
<li><code class="prettyprint">switch_to.window</code></li>
</ul>

<p>Now Appium supports the more conceptually consistent concept of “context”. To get all of the available contexts, or the particular context the application is is, you use</p>
<pre class="highlight python"><span class="n">driver</span><span class="o">.</span><span class="n">contexts</span>
<span class="n">current</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">context</span>
</pre>

<p>And to switch between them, you use</p>
<pre class="highlight python"><span class="n">driver</span><span class="o">.</span><span class="n">switch_to</span><span class="o">.</span><span class="n">context</span><span class="p">(</span><span class="s">"WEBVIEW"</span><span class="p">)</span>
</pre>

<h2 id='no-more-execute_script("mobile:-xxx")'>No more <code class="prettyprint">execute_script("mobile: xxx")</code>
</h2>

<p>All the <code class="prettyprint">mobile:</code> methods have been removed, and have been replaced by native methods in the Appium client libraries. This means that a method call like <code class="prettyprint">driver.execute("mobile: lock", [5])</code> will now look something more like <code class="prettyprint">driver.lock(5)</code> (where <code class="prettyprint">lock</code> has been turned into a native client method). Of course, the details on calling these methods will differ by client.</p>

<p>Of particular note, the gesture methods have been replaced by the new TouchAction / MultiAction API which allows for a much more powerful and general way of putting gestural automation together. Refer to your Appium client for usage notes on TouchAction / MultiAction.</p>

<p>And that’s it! Happy migrating!</p>

<h1 id="style-guide-for-contributors">
<span id="style-guide.md"></span>Style guide for contributors</h1>

<p>Thanks for your contribution to Appium! Here are the principles we use when
writing javascript. Please conform to these so we can merge your pull request
 without going back and forth about style. The main principle is: <em>make your
 code look like the surrounding code</em>.</p>

<h2 id="rebasing">Rebasing</h2>

<p>Commits in a pull request should consist of <a href="https://github.com/appium/appium/pull/920#issuecomment-21588553">logical changes</a>.
If there are multiple authors, make sure each author has their own commit.
It’s not a good idea to modify author information. Merge commits should be
rebased out of pull requests.</p>

<h2 id="linting">Linting</h2>

<p>All code (except for code in <code class="prettyprint">bootstrap.js</code> which uses proprietary Apple
methods) must pass JSLint. To check your code, you can simply run <code class="prettyprint">grunt
lint</code> from the Appium repo dir. If you’ve created a new .js file,
please make sure it is covered by the wildcards in <code class="prettyprint">grunt.js</code> or that it is
added specifically.</p>

<p>It’s easy to have your code linted as you type, which makes the whole process
much smoother. We like <a href="http://www.jshint.com">jshint</a>,
which has integrations with a lot of source code editors. The file <code class="prettyprint">
.jshintrc</code> is checked into the repo, and its contents are:</p>
<pre class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"laxcomma"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"strict"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"undef"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"unused"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trailing"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"node"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"es5"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"white"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"indent"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p>These defined what we want to see warnings about, etc…,
while we’re editing. See <a href="http://www.jshint.com/platforms/">this page</a> for
the list of editors and platforms and how to get your editor set up with
automatic linting.</p>

<h2 id="style-notes">Style notes</h2>

<ul>
<li>  Use two spaces for indentation, <em>no tabs</em>
</li>
<li>
<p>Use single spaces around operators</p>
<pre class="highlight javascript"><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</pre>

<p>not
<code class="prettyprint">js
var x=1;
</code>        </p>
</li>
<li>
<p>Spaces after commas and colons in lists, objects, function calls, etc…</p>
<pre class="highlight javascript"><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">myFunc</span><span class="p">(</span><span class="s2">"lol"</span><span class="p">,</span> <span class="p">{</span><span class="na">foo</span><span class="p">:</span> <span class="nx">bar</span><span class="p">,</span> <span class="na">baz</span><span class="p">:</span> <span class="nx">boo</span><span class="p">});</span>
</pre>

<p>not
<code class="prettyprint">js
var x = myFunc("lol",{foo:bar,baz:boo});
</code></p>
</li>
<li><p>Always end statements with semicolons</p></li>
<li>
<p>Comma-first</p>
<pre class="highlight javascript"><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">foo</span><span class="p">:</span> <span class="s1">'bar'</span>
<span class="p">,</span> <span class="na">baz</span><span class="p">:</span> <span class="s1">'boo'</span>
<span class="p">,</span> <span class="na">wuz</span><span class="p">:</span> <span class="s1">'foz'</span>
<span class="p">};</span>
</pre>
</li>
<li>
<p>Brackets for <code class="prettyprint">function</code>, <code class="prettyprint">if</code>, etc… go on same line, <code class="prettyprint">else</code> gets sandwiched</p>
<pre class="highlight javascript"><span class="k">if</span> <span class="p">(</span><span class="nx">foo</span> <span class="o">===</span> <span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// do something
</span><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="c1">// do something else
</span><span class="p">}</span>
</pre>
</li>
<li>
<p>Space after <code class="prettyprint">if</code>, <code class="prettyprint">for</code>, and <code class="prettyprint">function</code>:</p>
<pre class="highlight javascript"><span class="k">if</span> <span class="p">(</span><span class="nx">foo</span> <span class="o">===</span> <span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
</pre>
<pre class="highlight javascript"><span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span> <span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</pre>
<pre class="highlight javascript"><span class="kd">var</span> <span class="nx">lol</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
</pre>

<p>not
<code class="prettyprint">js
if(foo === bar) {
</code>
<code class="prettyprint">js
for(var i = 0; i &lt; 10; i ++) {
</code>
<code class="prettyprint">js
var lol = function(foo) {
</code></p>
</li>
<li>
<p>Avoid bracketless <code class="prettyprint">if</code> for one-liners:</p>
<pre class="highlight javascript"><span class="k">if</span> <span class="p">(</span><span class="nx">foo</span> <span class="o">===</span> <span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">foo</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
</pre>

<p>not
<code class="prettyprint">js
if (foo === bar)
  foo++;
</code></p>
</li>
<li><p>Use <code class="prettyprint">===</code>, not <code class="prettyprint">==</code>, and <code class="prettyprint">!==</code>, not <code class="prettyprint">!=</code> for no surprises</p></li>
<li><p>Line length shouldn’t be longer than 79 characters</p></li>
<li>
<p>Break up long strings like this:</p>
<pre class="highlight javascript"><span class="nx">myFunc</span><span class="p">(</span><span class="s2">"This is a really long string that's longer "</span> <span class="o">+</span>
        <span class="s2">"than 79 characters so I broke it up, woo"</span><span class="p">);</span>
</pre>
</li>
<li>
<p>Comments should line up with code</p>
<pre class="highlight javascript"><span class="k">if</span> <span class="p">(</span><span class="nx">foo</span> <span class="o">===</span> <span class="mi">5</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">myFunc</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>
  <span class="c1">// foo++;
</span><span class="p">}</span>
</pre>

<p>not
<code class="prettyprint">js
if (foo === 5) {
  myFunc(foo);
//foo++;
}
</code></p>
</li>
<li>
<p>Subclassing by extending prototypes</p>
<pre class="highlight javascript"><span class="kd">var</span> <span class="nx">_</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'underscore'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">SuperClass</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">init</span><span class="p">();</span>
<span class="p">};</span>

<span class="nx">SuperClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">init</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="c1">// initialize
</span><span class="p">};</span>

<span class="c1">// Create a subclass
</span>
<span class="kd">var</span> <span class="nx">SubClass</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">init</span><span class="p">();</span>
<span class="p">};</span>

<span class="nx">_</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">SubClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span> <span class="nx">SuperClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>
</pre>
</li>
<li>
<p>Callbacks are always last in function definitions</p>
<pre class="highlight javascript"><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">arg1</span><span class="p">,</span> <span class="nx">arg2</span><span class="p">,</span> <span class="nx">cb</span><span class="p">)</span> <span class="p">{</span>
  <span class="p">...</span>
<span class="p">};</span>
</pre>
</li>
<li>
<p>Define functions as variables</p>
<pre class="highlight javascript"><span class="kd">var</span> <span class="nx">myFunc</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">)</span> <span class="p">{};</span>
</pre>

<p>not
<code class="prettyprint">js
function myFunc (a, b, c) {}
</code></p>
</li>
<li>
<p>Variable names should be camelCased:</p>
<pre class="highlight javascript"><span class="kd">var</span> <span class="nx">myVariable</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
</pre>

<p>not
<code class="prettyprint">js
var my_variable = 42;
</code></p>
</li>
<li>
<p>Check for undefined</p>
<pre class="highlight javascript"><span class="k">typeof</span> <span class="nx">myVariable</span> <span class="o">===</span> <span class="s2">"undefined"</span>
</pre>

<p>not
<code class="prettyprint">js
myVariable === undefined
</code></p>
</li>
</ul>

<h2 id="test-style:">Test Style:</h2>

<p>Keep on the same line if it makes sense semantically and length is not an issue:</p>

<p>Examples:</p>
<pre class="highlight javascript">  <span class="nx">driver</span><span class="p">.</span><span class="nx">elementByTagName</span><span class="p">(</span><span class="s1">'el1'</span><span class="p">).</span><span class="nx">should</span><span class="p">.</span><span class="nx">become</span><span class="p">(</span><span class="s2">"123"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">nodeify</span><span class="p">(</span><span class="nx">done</span><span class="p">);</span>

  <span class="nx">driver</span>
    <span class="p">.</span><span class="nx">elementsByTagName</span><span class="p">(</span><span class="s1">'el1'</span><span class="p">).</span><span class="nx">should</span><span class="p">.</span><span class="nx">eventually</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">length</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">nodeify</span><span class="p">(</span><span class="nx">done</span><span class="p">);</span>
</pre>

<p>Alternatively use extra indents to improve readability:</p>
<pre class="highlight javascript"><span class="nx">h</span><span class="p">.</span><span class="nx">driver</span>
  <span class="p">.</span><span class="nx">elementById</span><span class="p">(</span><span class="s1">'comments'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">clear</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">click</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="s2">"hello world"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">getValue</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">become</span><span class="p">(</span><span class="s2">"hello world"</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">elementById</span><span class="p">(</span><span class="s1">'comments'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">getValue</span><span class="p">().</span><span class="nx">should</span><span class="p">.</span><span class="nx">become</span><span class="p">(</span><span class="s2">"hello world"</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">nodeify</span><span class="p">(</span><span class="nx">done</span><span class="p">);</span>

<span class="nx">h</span><span class="p">.</span><span class="nx">driver</span>
  <span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s2">"'nan'--"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">rejectedWith</span><span class="p">(</span><span class="s2">"status: 13"</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">nodeify</span><span class="p">(</span><span class="nx">done</span><span class="p">);</span>
</pre>

<h1 id="appium-grunt-commands">
<span id="grunt.md"></span>Appium grunt commands</h1>

<p><a href="http://gruntjs.com">Grunt</a> is like make for Node.js! We use it to automate all
kinds of appium dev tasks. Here’s what you can do:</p>

<table>
<thead>
<tr>
<th>Task</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>grunt lint</td>
<td>Run JSLint</td>
</tr>
<tr>
<td>grunt test</td>
<td>Run the unit tests</td>
</tr>
<tr>
<td>grunt unit</td>
<td>Run the unit tests</td>
</tr>
<tr>
<td>grunt buildApp:&lt;AppName&gt;:&lt;SDK&gt;</td>
<td>Build an iOS app for the iPhone Simulator.  Expects there to be a .app at <code class="prettyprint">sample-code/apps/&lt;AppName&gt;/build/Release-iphonesimulator/&lt;AppName&gt;.app</code>. Default SDK is ‘iphonesimulator7.1’</td>
</tr>
<tr>
<td>grunt signApp:&lt;certName&gt;</td>
<td>Signs the test app with an absolute path to an iOS dev certificate</td>
</tr>
<tr>
<td>grunt authorize</td>
<td>Authorize your simulator to run without prompting</td>
</tr>
<tr>
<td>grunt log</td>
<td>Tail appium.log (useful when running tests)</td>
</tr>
<tr>
<td>grunt configAndroidBootstrap</td>
<td>Configure the android bootstrap jar so it can be built with ant</td>
</tr>
<tr>
<td>grunt buildAndroidBootstrap</td>
<td>Build the android bootstrap jar with ant</td>
</tr>
<tr>
<td>grunt buildSelendroidServer</td>
<td>Build the selendroid server</td>
</tr>
<tr>
<td>grunt configAndroidApp:&lt;AppName&gt;</td>
<td>Configure an android test app so it can be built with ant. Expects an android project at <code class="prettyprint">sample-code/apps/&lt;AppName&gt;</code>
</td>
</tr>
<tr>
<td>grunt buildAndroidApp:&lt;AppName&gt;</td>
<td>Build an android app using ant. Expects the app to be at <code class="prettyprint">sample-code/apps/&lt;AppName&gt;</code>
</td>
</tr>
<tr>
<td>grunt installAndroidApp:&lt;AppName&gt;</td>
<td>Installs an android app to the currently running emulator or device</td>
</tr>
<tr>
<td>grunt docs</td>
<td>Generate docs</td>
</tr>
<tr>
<td>grunt generateAppiumIo</td>
<td>Take Appium’s README.md and turn it into HTML for getting-started.html of appium.io</td>
</tr>
<tr>
<td>grunt setConfigVer:&lt;device&gt;</td>
<td>Say that &lt;device&gt; is configured for the version of Appium listed in package.json</td>
</tr>
</tbody>
</table>

<h2 id="miscellaneous-notes">Miscellaneous notes</h2>

<p>By default, <code class="prettyprint">grunt buildApp</code> builds apps using the iPhone 7.1 simulator SDK.
You can overwrite the simulator by passing another SDK to grunt (to figure out
which SDKs you have available, try <code class="prettyprint">xcodebuild -showsdks</code>:</p>

<p>&gt; grunt buildApp:UICatalog:iphonesimulator6.1</p>

<h1 id="how-to-write-docs">
<span id="how-to-write-docs.md"></span>How to write docs</h1>

<p><code class="prettyprint">#</code> is used to write a h1 header. Each document must start with a h1 header.
Don’t use the <code class="prettyprint">===</code> underline method of creating headers.</p>

<h2 id="subheaders">Subheaders</h2>

<p><code class="prettyprint">##</code> is used to write subheaders. Don’t use the <code class="prettyprint">---</code> underline method of
creating sub headers.</p>

<h3 id="regular-headers">Regular headers</h3>

<p><code class="prettyprint">###</code> is used for headers that don’t appear in the table of contents.
Don’t use h4 <code class="prettyprint">####</code>, h5 <code class="prettyprint">#####</code>, or h6 <code class="prettyprint">######</code>.</p>

<h3 id="line-breaks">Line breaks</h3>

<p>Don’t use line breaks such as <code class="prettyprint">--</code> or <code class="prettyprint">---</code>. This will confuse Slate.</p>

<h3 id="linking">Linking</h3>

<p>Link to the readme:</p>

<p><code class="prettyprint">[readme](#README.md)</code></p>

<p>Link to contributing:</p>

<p><code class="prettyprint">[contributing](#CONTRIBUTING.md)</code></p>

<p>Link to another document</p>

<p><code class="prettyprint">[link text](#filename.md)</code></p>

<p>To link inside a document, use the <code class="prettyprint">#</code> from the Slate URL.</p>

<p><code class="prettyprint">[go direct to json](#json-wire-protocol-server-extensions)</code></p>

<p>Note that hash links will break when the heading changes so linking to
the start of the doc is preferable (<code class="prettyprint">other.md</code> instead of <code class="prettyprint">other.md#something</code>).</p>

<h1 id="credits">
<span id="credits.md"></span>Credits</h1>

<h3 id="these-are-the-projects-that-inspired-us,-or-are-depended-upon-to-make-appium-awesome.">These are the projects that inspired us, or are depended upon to make Appium awesome.</h3>

<ul>
<li><a href="http://developer.apple.com/library/ios/#documentation/DeveloperTools/Reference/UIAutomationRef/_index.html">Apple UIAutomation</a></li>
<li><a href="https://github.com/detro/ghostdriver">GhostDriver</a></li>
<li><a href="https://github.com/penguinho/applecart">IOS Auto</a></li>
<li><a href="https://github.com/ios-driver/ios-driver">IOS Driver</a></li>
<li><a href="https://github.com/jaykz52/mechanic">Mechanic.js</a></li>
<li><a href="https://github.com/rogerwang/node-webkit">node-webkit</a></li>
<li><a href="https://github.com/leftlogic/remote-debug">Remote Debug</a></li>
<li><a href="http://code.google.com/p/selenium/">Selenium Project</a></li>
<li><a href="https://github.com/google/ios-webkit-debug-proxy">ios-webkit-debug-proxy</a></li>
<li><a href="https://github.com/facebook/instruments-without-delay">instruments-without-delay</a></li>
</ul>

<h1 id="appium-client-libraries">
<span id="appium-bindings.md"></span>Appium Client Libraries</h1>

<p>Appium has libraries for:</p>

<table>
<thead>
<tr>
<th style="text-align: left">Language</th>
<th style="text-align: right">Source</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left"><a href="http://rubygems.org/gems/appium_lib">Ruby</a></td>
<td style="text-align: right"><a href="https://github.com/appium/ruby_lib">GitHub</a></td>
</tr>
<tr>
<td style="text-align: left"><a href="https://pypi.python.org/pypi/Appium-Python-Client">Python</a></td>
<td style="text-align: right"><a href="https://github.com/appium/python-client">GitHub</a></td>
</tr>
<tr>
<td style="text-align: left"><a href="https://search.maven.org/#search%7Cga%7C1%7Cg%3Aio.appium%20a%3Ajava-client">Java</a></td>
<td style="text-align: right"><a href="https://github.com/appium/java-client">GitHub</a></td>
</tr>
<tr>
<td style="text-align: left"><a href="https://www.npmjs.org/package/wd">JavaScript</a></td>
<td style="text-align: right"><a href="https://github.com/admc/wd">GitHub</a></td>
</tr>
<tr>
<td style="text-align: left"><a href="https://github.com/appium/php-client">PHP</a></td>
<td style="text-align: right"><a href="https://github.com/appium/php-client">GitHub</a></td>
</tr>
<tr>
<td style="text-align: left"><a href="http://www.nuget.org/packages/Appium.WebDriver/">C#</a></td>
<td style="text-align: right"><a href="https://github.com/appium/appium-dotnet-driver">GitHub</a></td>
</tr>
</tbody>
</table>

<p>Note that some methods such as <code class="prettyprint">endTestCoverage()</code> and <code class="prettyprint">complexFind()</code> are
not generally useful. Proper coverage support will be added once <a href="https://github.com/appium/appium/issues/2448">this issue</a>
is resolved. <code class="prettyprint">complexFind()</code> will be removed once <a href="https://github.com/appium/appium/issues/2264">this issue</a>
is resolved. If you want to use them anyway, consult the documentation for the bindings on GitHub.</p>

<h2 id="lock">Lock</h2>

<p>Lock the screen.</p>
<pre class="highlight ruby"><span class="n">lock</span> <span class="mi">5</span>
</pre>
<pre class="highlight python"><span class="n">driver</span><span class="o">.</span><span class="n">lock</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre>
<pre class="highlight java"><span class="n">driver</span><span class="o">.</span><span class="na">lockScreen</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span>
</pre>
<pre class="highlight javascript"><span class="nx">todo</span><span class="err">:</span> <span class="nx">javascript</span>
</pre>
<pre class="highlight php">todo: php
</pre>
<pre class="highlight csharp"><span class="n">driver</span><span class="p">.</span><span class="nf">LockDevice</span><span class="p">(</span><span class="m">3</span><span class="p">);</span>
</pre>

<h2 id="background-app">Background app</h2>

<p>Send the currently active app to the background.</p>
<pre class="highlight ruby"><span class="n">background_app</span> <span class="mi">5</span>
</pre>
<pre class="highlight python"><span class="n">driver</span><span class="o">.</span><span class="n">background_app</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre>
<pre class="highlight java"><span class="n">driver</span><span class="o">.</span><span class="na">runAppInBackground</span><span class="o">(</span><span class="mi">5</span><span class="o">);</span>
</pre>
<pre class="highlight javascript"><span class="nx">todo</span><span class="err">:</span> <span class="nx">javascript</span>
</pre>
<pre class="highlight php">todo: php
</pre>
<pre class="highlight csharp"><span class="n">driver</span><span class="p">.</span><span class="nf">BackgroundApp</span><span class="p">(</span><span class="m">5</span><span class="p">);</span>
</pre>

<h2 id="hide-keyboard-(ios-only)">Hide Keyboard (iOS only)</h2>

<p>Hide the keyboard on iOS</p>
<pre class="highlight ruby"><span class="n">hide_keyboard</span>
</pre>
<pre class="highlight python"><span class="n">driver</span><span class="o">.</span><span class="n">hide_keyboard</span><span class="p">()</span>
</pre>
<pre class="highlight java"><span class="n">driver</span><span class="o">.</span><span class="na">hideKeyboard</span><span class="o">();</span>
</pre>
<pre class="highlight javascript"><span class="nx">todo</span><span class="err">:</span> <span class="nx">javascript</span>
</pre>
<pre class="highlight php">todo: php
</pre>
<pre class="highlight csharp"><span class="n">driver</span><span class="p">.</span><span class="nf">HideKeyboard</span><span class="p">(</span><span class="s">"Done"</span><span class="p">);</span>
</pre>

<h2 id="is-installed">Is installed</h2>

<p>Check if an app is installed</p>
<pre class="highlight ruby"><span class="n">is_installed?</span> <span class="s2">"com.example.android.apis"</span>
</pre>
<pre class="highlight python"><span class="n">driver</span><span class="o">.</span><span class="n">is_app_installed</span><span class="p">(</span><span class="s">'com.example.android.apis'</span><span class="p">)</span>
</pre>
<pre class="highlight java"><span class="n">driver</span><span class="o">.</span><span class="na">isAppInstalled</span><span class="o">(</span><span class="s">"com.example.android.apis"</span><span class="o">)</span>
</pre>
<pre class="highlight javascript"><span class="nx">todo</span><span class="err">:</span> <span class="nx">javascript</span>
</pre>
<pre class="highlight php">todo: php
</pre>
<pre class="highlight csharp"><span class="n">driver</span><span class="p">.</span><span class="nf">IsAppInstalled</span><span class="p">(</span><span class="s">"com.example.android.apis-"</span><span class="p">);</span>
</pre>

<h2 id="install-app">Install App</h2>

<p>Install an app to the device.</p>
<pre class="highlight ruby"><span class="n">install</span> <span class="s1">'path/to/my.apk'</span>
</pre>
<pre class="highlight python"><span class="n">driver</span><span class="o">.</span><span class="n">install_app</span><span class="p">(</span><span class="s">'path/to/my.apk'</span><span class="p">)</span>
</pre>
<pre class="highlight java"><span class="n">driver</span><span class="o">.</span><span class="na">installApp</span><span class="o">(</span><span class="s">"path/to/my.apk"</span><span class="o">)</span>
</pre>
<pre class="highlight javascript"><span class="nx">todo</span><span class="err">:</span> <span class="nx">javascript</span>
</pre>
<pre class="highlight php">todo: php
</pre>
<pre class="highlight csharp"><span class="n">driver</span><span class="p">.</span><span class="nf">InstallApp</span><span class="p">(</span><span class="s">"path/to/my.apk"</span><span class="p">);</span>
</pre>

<h2 id="remove-app">Remove App</h2>

<p>Remove an app from the device.</p>
<pre class="highlight ruby"><span class="n">remove</span> <span class="s1">'com.example.android.apis'</span>
</pre>
<pre class="highlight python"><span class="n">driver</span><span class="o">.</span><span class="n">remove_app</span><span class="p">(</span><span class="s">'com.example.android.apis'</span><span class="p">)</span>
</pre>
<pre class="highlight java"><span class="n">driver</span><span class="o">.</span><span class="na">removeApp</span><span class="o">(</span><span class="s">"com.example.android.apis"</span><span class="o">)</span>
</pre>
<pre class="highlight javascript"><span class="nx">todo</span><span class="err">:</span> <span class="nx">javascript</span>
</pre>
<pre class="highlight php">todo: php
</pre>
<pre class="highlight csharp"><span class="n">driver</span><span class="p">.</span><span class="nf">RemoveApp</span><span class="p">(</span><span class="s">"com.example.android.apis"</span><span class="p">);</span>
</pre>

<h2 id="shake">Shake</h2>

<p>Simulate the device shaking.</p>
<pre class="highlight ruby"><span class="n">shake</span>
</pre>
<pre class="highlight python"><span class="n">driver</span><span class="o">.</span><span class="n">shake</span><span class="p">()</span>
</pre>
<pre class="highlight java"><span class="n">driver</span><span class="o">.</span><span class="na">shake</span><span class="o">()</span>
</pre>
<pre class="highlight javascript"><span class="nx">todo</span><span class="err">:</span> <span class="nx">javascript</span>
</pre>
<pre class="highlight php">todo: php
</pre>
<pre class="highlight csharp"><span class="n">driver</span><span class="p">.</span><span class="nf">ShakeDevice</span><span class="p">();</span>
</pre>

<h2 id="close-app">Close app</h2>

<p>Close the app</p>
<pre class="highlight ruby"><span class="n">close_app</span>
</pre>
<pre class="highlight python"><span class="n">driver</span><span class="o">.</span><span class="n">close_app</span><span class="p">();</span>
</pre>
<pre class="highlight java"><span class="n">driver</span><span class="o">.</span><span class="na">closeApp</span><span class="o">()</span>
</pre>
<pre class="highlight javascript"><span class="nx">todo</span><span class="err">:</span> <span class="nx">javascript</span>
</pre>
<pre class="highlight php">todo: php
</pre>
<pre class="highlight csharp"><span class="n">driver</span><span class="p">.</span><span class="nf">CloseApp</span><span class="p">();</span>
</pre>

<h2 id="launch">Launch</h2>

<p>Launch the app</p>
<pre class="highlight ruby"><span class="n">launch</span>
</pre>
<pre class="highlight python"><span class="n">driver</span><span class="o">.</span><span class="n">launch_app</span><span class="p">()</span>
</pre>
<pre class="highlight java"><span class="n">driver</span><span class="o">.</span><span class="na">launchApp</span><span class="o">()</span>
</pre>
<pre class="highlight javascript"><span class="nx">todo</span><span class="err">:</span> <span class="nx">javascript</span>
</pre>
<pre class="highlight php">todo: php
</pre>
<pre class="highlight csharp"><span class="n">driver</span><span class="p">.</span><span class="nf">LaunchApp</span><span class="p">();</span>
</pre>

<h2 id="reset">Reset</h2>

<p>Reset the app.</p>
<pre class="highlight ruby"><span class="n">reset</span>
</pre>
<pre class="highlight python"><span class="n">driver</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
</pre>
<pre class="highlight java"><span class="n">driver</span><span class="o">.</span><span class="na">resetApp</span><span class="o">()</span>
</pre>
<pre class="highlight javascript"><span class="nx">todo</span><span class="err">:</span> <span class="nx">javascript</span>
</pre>
<pre class="highlight php">todo: php
</pre>
<pre class="highlight csharp"><span class="n">driver</span><span class="p">.</span><span class="nf">ResetApp</span><span class="p">();</span>
</pre>

<h2 id="available-contexts">Available Contexts</h2>

<p>List all available contexts</p>
<pre class="highlight ruby"><span class="n">context_array</span> <span class="o">=</span> <span class="n">available_contexts</span>
</pre>
<pre class="highlight python"><span class="n">driver</span><span class="o">.</span><span class="n">contexts</span>
</pre>
<pre class="highlight java"><span class="n">driver</span><span class="o">.</span><span class="na">getContextHandles</span><span class="o">()</span>
</pre>
<pre class="highlight javascript"><span class="nx">todo</span><span class="err">:</span> <span class="nx">javascript</span>
</pre>
<pre class="highlight php">todo: php
</pre>
<pre class="highlight csharp"><span class="n">driver</span><span class="p">.</span><span class="nf">GetContexts</span><span class="p">()</span>
</pre>

<h2 id="current-context">Current context</h2>

<p>List the current context</p>
<pre class="highlight ruby"><span class="n">context</span> <span class="o">=</span> <span class="n">current_context</span>
</pre>
<pre class="highlight python"><span class="n">driver</span><span class="o">.</span><span class="n">current_context</span>
</pre>
<pre class="highlight java"><span class="n">driver</span><span class="o">.</span><span class="na">getContext</span><span class="o">()</span>
</pre>
<pre class="highlight javascript"><span class="nx">todo</span><span class="err">:</span> <span class="nx">javascript</span>
</pre>
<pre class="highlight php">todo: php
</pre>
<pre class="highlight csharp"><span class="n">driver</span><span class="p">.</span><span class="nf">GetContext</span><span class="p">()</span>
</pre>

<h2 id="switch-to-default-context">Switch to default context</h2>

<p>Change the context to the default.</p>
<pre class="highlight ruby"><span class="n">switch_to_default_context</span>
</pre>
<pre class="highlight python"><span class="n">driver</span><span class="o">.</span><span class="n">switch_to</span><span class="o">.</span><span class="n">context</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
</pre>
<pre class="highlight java"><span class="n">driver</span><span class="o">.</span><span class="na">context</span><span class="o">();</span>
</pre>
<pre class="highlight javascript"><span class="nx">todo</span><span class="err">:</span> <span class="nx">javascript</span>
</pre>
<pre class="highlight php">todo: php
</pre>
<pre class="highlight csharp"><span class="n">driver</span><span class="p">.</span><span class="nf">SetContext</span><span class="p">();</span>
</pre>

<h2 id="app-strings">App Strings</h2>

<p>Get the app’s strings.</p>
<pre class="highlight ruby"><span class="n">strings</span> <span class="o">=</span> <span class="n">app_strings</span>
</pre>
<pre class="highlight python"><span class="n">driver</span><span class="o">.</span><span class="n">app_strings</span>
</pre>
<pre class="highlight java"><span class="n">driver</span><span class="o">.</span><span class="na">getAppString</span><span class="o">();</span>
</pre>
<pre class="highlight javascript"><span class="nx">todo</span><span class="err">:</span> <span class="nx">javascript</span>
</pre>
<pre class="highlight php">todo: php
</pre>
<pre class="highlight csharp"><span class="n">driver</span><span class="p">.</span><span class="nf">GetAppStrings</span><span class="p">();</span>
</pre>

<h2 id="key-event">Key Event</h2>

<p>Send a key event to the device.</p>
<pre class="highlight ruby"><span class="n">key_event</span> <span class="mi">176</span>
</pre>
<pre class="highlight python"><span class="n">driver</span><span class="o">.</span><span class="n">keyevent</span><span class="p">(</span><span class="mi">176</span><span class="p">)</span>
</pre>
<pre class="highlight java"><span class="n">driver</span><span class="o">.</span><span class="na">sendKeyEvent</span><span class="o">(</span><span class="n">AndroidKeyCode</span><span class="o">.</span><span class="na">HOME</span><span class="o">);</span>
</pre>
<pre class="highlight javascript"><span class="nx">todo</span><span class="err">:</span> <span class="nx">javascript</span>
</pre>
<pre class="highlight php">todo: php
</pre>
<pre class="highlight csharp"><span class="n">driver</span><span class="p">.</span><span class="nf">KeyEvent</span><span class="p">(</span><span class="s">"176"</span><span class="p">);</span>
</pre>

<h2 id="current-activity">Current Activity</h2>

<p>Android only. Get the current activity.</p>
<pre class="highlight ruby"><span class="n">current_activity</span>
</pre>
<pre class="highlight python"><span class="n">driver</span><span class="o">.</span><span class="n">current_activity</span>
</pre>
<pre class="highlight java"><span class="n">driver</span><span class="o">.</span><span class="na">currentActivity</span><span class="o">();</span>
</pre>
<pre class="highlight javascript"><span class="nx">todo</span><span class="err">:</span> <span class="nx">javascript</span>
</pre>
<pre class="highlight php">todo: php
</pre>
<pre class="highlight csharp"><span class="n">driver</span><span class="p">.</span><span class="nf">GetCurrentActivity</span><span class="p">();</span>
</pre>

<h2 id="touchaction-/-multitouchaction">TouchAction / MultiTouchAction</h2>

<p>An API for generating touch actions. This section of the documentation will be
expanded upon soon.</p>
<pre class="highlight ruby"><span class="n">touch_action</span> <span class="o">=</span> <span class="no">Appium</span><span class="o">::</span><span class="no">TouchAction</span><span class="p">.</span><span class="nf">new</span>
<span class="n">element</span>  <span class="o">=</span> <span class="n">find_element</span> <span class="ss">:name</span><span class="p">,</span> <span class="s1">'Buttons, Various uses of UIButton'</span>
<span class="n">touch_action</span><span class="p">.</span><span class="nf">press</span><span class="p">(</span><span class="ss">element: </span><span class="n">element</span><span class="p">,</span> <span class="ss">x: </span><span class="mi">10</span><span class="p">,</span> <span class="ss">y: </span><span class="mi">10</span><span class="p">).</span><span class="nf">perform</span>
</pre>
<pre class="highlight python"><span class="n">action</span> <span class="o">=</span> <span class="n">TouchAction</span><span class="p">(</span><span class="n">driver</span><span class="p">)</span>
<span class="n">action</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="n">element</span><span class="o">=</span><span class="n">el</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">release</span><span class="p">()</span><span class="o">.</span><span class="n">perform</span><span class="p">()</span>
</pre>
<pre class="highlight java"><span class="n">TouchAction</span> <span class="n">action</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TouchAction</span><span class="o">(</span><span class="n">driver</span><span class="o">)</span>
<span class="o">.</span><span class="na">press</span><span class="o">(</span><span class="n">mapview</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="mi">10</span><span class="o">)</span>
<span class="o">.</span><span class="na">release</span><span class="o">().</span>
<span class="n">perform</span><span class="o">();</span>
</pre>
<pre class="highlight javascript"><span class="nx">todo</span><span class="err">:</span> <span class="nx">javascript</span>
</pre>
<pre class="highlight php">todo: php
</pre>
<pre class="highlight csharp"><span class="n">var</span> <span class="n">touchAction1</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TouchActions</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="n">touchAction1</span><span class="p">.</span><span class="nf">Down</span><span class="p">(</span><span class="m">10</span><span class="p">,</span> <span class="m">10</span><span class="p">).</span><span class="nf">Up</span><span class="p">(</span><span class="m">10</span><span class="p">,</span> <span class="m">10</span><span class="p">);</span>

<span class="n">var</span> <span class="n">multiTouchAction</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MultiTouchAction</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="n">multiTouchAction</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">touchAction1</span><span class="p">);</span>

<span class="nf">PerformMultiTouchAction</span><span class="p">(</span><span class="n">multiTouchAction</span><span class="p">);</span>
</pre>

<h2 id="swipe">Swipe</h2>

<p>Simulate a user swipe.</p>
<pre class="highlight ruby"><span class="n">swipe</span> <span class="ss">start_x: </span><span class="mi">75</span><span class="p">,</span> <span class="ss">start_y: </span><span class="mi">500</span><span class="p">,</span> <span class="ss">end_x: </span><span class="mi">75</span><span class="p">,</span> <span class="ss">end_y: </span><span class="mi">0</span><span class="p">,</span> <span class="ss">duration: </span><span class="mi">0</span><span class="o">.</span><span class="mi">8</span>
</pre>
<pre class="highlight python"><span class="n">driver</span><span class="o">.</span><span class="n">swipe</span><span class="p">(</span><span class="mi">75</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">)</span>
</pre>
<pre class="highlight java"><span class="n">driver</span><span class="o">.</span><span class="na">swipe</span><span class="o">(</span><span class="n">startx</span><span class="o">=</span><span class="mi">75</span><span class="o">,</span> <span class="n">starty</span><span class="o">=</span><span class="mi">500</span><span class="o">,</span> <span class="n">endx</span><span class="o">=</span><span class="mi">75</span><span class="o">,</span> <span class="n">endy</span><span class="o">=</span><span class="mi">0</span><span class="o">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">800</span><span class="o">)</span>
</pre>
<pre class="highlight javascript"><span class="nx">todo</span><span class="err">:</span> <span class="nx">javascript</span>
</pre>
<pre class="highlight php">todo: php
</pre>
<pre class="highlight csharp"><span class="n">todo</span><span class="p">:</span> <span class="n">c</span><span class="err">#</span>
</pre>

<h2 id="pinch">Pinch</h2>

<p>Pinch the screen.</p>
<pre class="highlight ruby"><span class="n">pinch</span> <span class="mi">75</span>
</pre>
<pre class="highlight python"><span class="n">driver</span><span class="o">.</span><span class="n">pinch</span><span class="p">(</span><span class="n">element</span><span class="o">=</span><span class="n">el</span><span class="p">)</span>
</pre>
<pre class="highlight java"><span class="n">driver</span><span class="o">.</span><span class="na">pinch</span><span class="o">(</span><span class="n">element</span><span class="o">);</span>
</pre>
<pre class="highlight javascript"><span class="nx">todo</span><span class="err">:</span> <span class="nx">javascript</span>
</pre>
<pre class="highlight php">todo: php
</pre>
<pre class="highlight csharp"><span class="n">driver</span><span class="p">.</span><span class="nf">Pinch</span><span class="p">(</span><span class="m">25</span><span class="p">,</span> <span class="m">25</span><span class="p">)</span>
</pre>

<h2 id="zoom">Zoom</h2>

<p>Zoom the screen.</p>
<pre class="highlight ruby"><span class="n">zoom</span> <span class="mi">200</span>
</pre>
<pre class="highlight python"><span class="n">driver</span><span class="o">.</span><span class="n">zoom</span><span class="p">(</span><span class="n">element</span><span class="o">=</span><span class="n">el</span><span class="p">)</span>
</pre>
<pre class="highlight java"><span class="n">driver</span><span class="o">.</span><span class="na">zoom</span><span class="o">(</span><span class="n">element</span><span class="o">);</span>
</pre>
<pre class="highlight javascript"><span class="nx">todo</span><span class="err">:</span> <span class="nx">javascript</span>
</pre>
<pre class="highlight php">todo: php
</pre>
<pre class="highlight csharp"><span class="n">driver</span><span class="p">.</span><span class="nf">Zoom</span><span class="p">(</span><span class="m">100</span><span class="p">,</span> <span class="m">200</span><span class="p">);</span>
</pre>

<h2 id="pull-file">Pull file</h2>

<p>Pulls a file from the device.</p>
<pre class="highlight ruby"><span class="n">pull_file</span> <span class="s1">'Library/AddressBook/AddressBook.sqlitedb'</span>
</pre>
<pre class="highlight python"><span class="n">driver</span><span class="o">.</span><span class="n">pull_file</span><span class="p">(</span><span class="s">'Library/AddressBook/AddressBook.sqlitedb'</span><span class="p">)</span>
</pre>
<pre class="highlight java"><span class="n">driver</span><span class="o">.</span><span class="na">pullFile</span><span class="o">(</span><span class="s">"Library/AddressBook/AddressBook.sqlitedb"</span><span class="o">);</span>
</pre>
<pre class="highlight javascript"><span class="nx">todo</span><span class="err">:</span> <span class="nx">javascript</span>
</pre>
<pre class="highlight php">todo: php
</pre>
<pre class="highlight csharp"><span class="n">driver</span><span class="p">.</span><span class="nf">PullFile</span><span class="p">(</span><span class="s">"Library/AddressBook/AddressBook.sqlitedb"</span><span class="p">);</span>
</pre>

<h2 id="push-file">Push File</h2>

<p>Pushes a file to the device.</p>
<pre class="highlight ruby"><span class="n">data</span> <span class="o">=</span> <span class="s2">"some data for the file"</span>
<span class="n">path</span> <span class="o">=</span> <span class="s2">"/data/local/tmp/file.txt"</span>
<span class="n">push_file</span> <span class="n">path</span><span class="p">,</span> <span class="n">data</span>
</pre>
<pre class="highlight python"><span class="n">data</span> <span class="o">=</span> <span class="s">"some data for the file"</span>
<span class="n">path</span> <span class="o">=</span> <span class="s">"/data/local/tmp/file.txt"</span>
<span class="n">driver</span><span class="o">.</span><span class="n">push_file</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'base64'</span><span class="p">))</span>
</pre>
<pre class="highlight java"><span class="kt">byte</span><span class="o">[]</span> <span class="n">data</span> <span class="o">=</span> <span class="n">Base64</span><span class="o">.</span><span class="na">encodeBase64</span><span class="o">(</span><span class="s">"some data for the file"</span><span class="o">.</span><span class="na">getBytes</span><span class="o">());</span>
<span class="n">String</span> <span class="n">path</span> <span class="o">=</span> <span class="s">"/data/local/tmp/file.txt"</span><span class="o">;</span>
<span class="n">driver</span><span class="o">.</span><span class="na">pushFile</span><span class="o">(</span><span class="n">path</span><span class="o">,</span> <span class="n">data</span><span class="o">)</span>
</pre>
<pre class="highlight javascript"><span class="nx">todo</span><span class="err">:</span> <span class="nx">javascript</span>
</pre>
<pre class="highlight php">todo: php
</pre>
<pre class="highlight csharp"><span class="n">driver</span><span class="p">.</span><span class="nf">PushFile</span><span class="p">(</span><span class="s">"/data/local/tmp/file.txt"</span><span class="p">,</span> <span class="s">"some data for the file"</span><span class="p">);</span>
</pre>

<h2 id="appium-desktop-apps">Appium Desktop Apps</h2>

<p>Appium’s desktop app supports OS X and Windows.</p>

<ul>
<li><a href="https://bitbucket.org/appium/appium.app/downloads/">Appium.app for OS X</a></li>
<li><a href="https://bitbucket.org/appium/appium.app/downloads/">Appium.exe for Windows</a></li>
</ul>

<h1 id="list-of-client-libraries-with-appium-server-support">
<span id="appium-clients.md"></span>List of client libraries with Appium server support</h1>

<ul>
<li>
<a href="https://github.com/appium/ruby_lib">https://github.com/appium/ruby_lib</a> - Ruby</li>
<li>
<a href="https://github.com/appium/python-client">https://github.com/appium/python-client</a> - Python</li>
<li>
<a href="https://github.com/appium/java-client">https://github.com/appium/java-client</a> - Java</li>
<li>
<a href="https://github.com/admc/wd">https://github.com/admc/wd</a> - JavaScript (Node.js)</li>
<li>
<a href="https://github.com/appium/php-client">https://github.com/appium/php-client</a> - PHP</li>
<li>
<a href="https://github.com/appium/appium-dotnet-driver">https://github.com/appium/appium-dotnet-driver</a> - C# (.NET)</li>
</ul>

<p>Please see each library for installation instructions.</p>

<h1 id="contributing-to-appium">
<span id="CONTRIBUTING.md"></span>Contributing to Appium</h1>

<p>Fork the project, make a change, and send a pull request! Please have a look at our
<a href="#style-guide.md">Style Guide</a> before getting to work.
Please make sure the unit and functional tests pass before sending a pull request; for more
information on how to run tests, keep reading!</p>

<p>Make sure you read and follow the setup instructions in the README first.</p>

<h2 id="using-appium">Using Appium</h2>

<p>An Appium setup involves the Appium server, which sends messages back and forth between
your test code and devices/emulators, and a test script, written in whatever language
binding exists that is compatible with Appium. Run an instance of an Appium server,
and then run your test.</p>

<p>The quick way to get started:</p>

<p>$ git clone https://github.com/appium/appium.git
    $ cd appium
    $ ./reset.sh
    $ sudo grunt authorize # for ios only
    $ node .</p>

<h2 id="hacking-with-appium">Hacking with Appium</h2>

<p>From your local repo’s command prompt, install the following packages using the
following commands (if you didn’t install <code class="prettyprint">node</code> using homebrew, you might have
to run npm with sudo privileges):</p>

<p>npm install -g mocha
    npm install -g grunt-cli
    ./reset.sh –dev</p>

<p>The first two commands install test and build tools (<code class="prettyprint">sudo</code> may not be necessary
if you installed node.js via Homebrew). The third command installs all app
dependencies and builds supporting binaries and test apps. <code class="prettyprint">reset.sh</code> is also the
recommended command to run after pulling changes from master. At this point,
you’re able to start the Appium server:</p>

<p>node .</p>

<p>There are some arguments you can pass into the Appium server from the command-line:</p>

<p>node . –app /absolute/path/to/app  // launch Appium server with app
    node . –launch // pre-launch the app when appium loads
    node . –log /my/appium.log // log to file instead of stdout
    node . –quiet // don’t log verbose output</p>

<p>See <a href="#server-args.md">the server documentation</a>
for a full list of arguments.</p>

<p>Like the power of automating dev tasks? Check out the <a href="#grunt.md">Appium Grunt tasks</a>
available to help with building apps, installing apps, generating docs, etc.</p>

<h3 id="hacking-with-appium-for-ios">Hacking with Appium for iOS</h3>

<p>To avoid a security dialog that may appear when launching your iOS apps you’ll
have to modify your <code class="prettyprint">/etc/authorization</code> file in one of two ways:</p>

<ol>
<li><p>Manually modify the element following <code class="prettyprint">&lt;allow-root&gt;</code> under <code class="prettyprint">&lt;key&gt;system.privilege.taskport&lt;/key&gt;</code>
in your <code class="prettyprint">/etc/authorization</code> file to <code class="prettyprint">&lt;true/&gt;</code>.</p></li>
<li>
<p>Run the following grunt command which automatically modifies your
<code class="prettyprint">/etc/authorization</code> file for you:</p>

<p>sudo grunt authorize</p>
</li>
</ol>

<p>At this point, run:</p>

<p>./reset.sh –ios –dev</p>

<p>Now your Appium instance is ready to go. Run <code class="prettyprint">node .</code> to kick up the Appium server.</p>

<h3 id="hacking-with-appium-for-android">Hacking with Appium for Android</h3>

<p>Bootstrap running for Android by running:</p>

<p>./reset.sh –android –dev</p>

<p>If you want to use <a href="http://github.com/DominikDary/selendroid">Selendroid</a> for support on
older Android platforms like 2.3, then run:</p>

<p>./reset.sh –selendroid –dev</p>

<p>Make sure you have one and only one Android emulator or device running, e.g.
by running this command in another process (assuming the <code class="prettyprint">emulator</code> command is
on your path):</p>

<p>emulator -avd <myavdname></myavdname></p>

<p>Now you are ready to run the Appium server via <code class="prettyprint">node .</code>.</p>

<h3 id="making-sure-you're-up-to-date">Making sure you’re up to date</h3>

<p>Since Appium uses dev versions of some packages, it often becomes necessary to
install new <code class="prettyprint">npm</code> packages or update various things. There’s a handy shell script
to do all this for all platforms (the <code class="prettyprint">--dev</code> flag gets dev npm dependencies
and test applications used in the Appium test suite). You will also need to do
this when Appium bumps its version up:</p>

<p>./reset.sh –dev</p>

<p>Or you can run reset for individual platforms only:</p>

<p>./reset.sh –ios –dev
    ./reset.sh –android –dev
    ./reset.sh –selendroid –dev</p>

<h2 id="running-tests">Running Tests</h2>

<p>First, check out our documentation on <a href="#running-tests.md">running tests in general</a>
Make sure your system is set up properly for the platforms you desire to test
on.</p>

<p>Once your system is set up and your code is up to date, you can run unit tests
with:</p>

<p>grunt unit</p>

<p>You can run functional tests for all supported platforms (after ensuring that
Appium is running in another window with <code class="prettyprint">node .</code>) with:</p>

<p>bin/test.sh</p>

<p>Or you can run particular platform tests with <code class="prettyprint">test.sh</code>:</p>

<p>bin/test.sh –android
    bin/test.sh –ios
    bin/test.sh –ios7
    bin/test.sh –ios71</p>

<p>Before committing code, please run <code class="prettyprint">grunt</code> to execute some basic tests and check
your changes against code quality standards:</p>

<p>grunt
    &gt; Running “lint:all” (lint) task
    &gt; Lint free.
    &gt; Done, without errors.</p>

<h3 id="running-individual-tests">Running individual tests</h3>

<p>If you have an Appium server listening, you can run individual test files using
Mocha, for example:</p>

<p>mocha -t 60000 -R spec test/functional/ios/testapp/simple.js</p>

<p>Or individual tests (e.g., a test with the word “alert” in the name):</p>

<p>mocha -t 60000 -R spec –grep “alert” test/functional/ios/apidemos</p>

<p>NOTE: For Android, you will need an emulator/device with screen size of 4.0"
(480x800). Some tests might fail on a different screen size.</p>

<h1 id="an-os-x-gui-for-appium">
<span id="dot_app.md"></span>An OS X GUI for Appium</h1>

<p><a href="https://travis-ci.org/appium/appium-dot-app"><img alt="Build Status" src="https://travis-ci.org/appium/appium-dot-app.svg?branch=master"></a></p>

<p>If you are new to Appium then please see the <a href="http://appium.io/getting-started.html">Getting started</a> guide for more information
about the project.</p>

<p>To install:</p>

<ol>
<li>Download the <a href="https://bitbucket.org/appium/appium.app/downloads/appium.dmg">latest version</a> from <a href="http://appium.io/">Appium.io</a>.</li>
<li>Mount the disk image.</li>
<li>Drag Appium.app to your Applications folder.</li>
</ol>

<h2 id="parameter-guide">Parameter Guide</h2>

<h3 id="main-window">Main Window</h3>

<p><img title="Appium Main Window" alt="Appium Main Window" src="../../images/mainwindow.png"></p>

<ul>
<li>
<strong>Android Button</strong>: Displays the Android settings.</li>
<li>
<strong>iOS Button</strong>: Displays the iOS settings.</li>
<li>
<strong>Settings Button</strong>: Displays the General settings.</li>
<li>
<strong>Developer Button</strong>: Displays the Developer settings.</li>
<li>
<strong>Robot Button</strong>: Displays the Robot settings.</li>
<li>
<strong>Inspector Button</strong>: Launches the Appium Inspector.</li>
<li>
<strong>Doctor Button</strong>: Launches the Appium doctor.</li>
<li>
<strong>Launch / Stop Button</strong>: Launches or stops the Appium server.
When the checkbox is checked this will be provided to the server so that all connections will launch this application.
You only need to supply a path here if you are using the pre-launch preference or if you do not want to supply it as
part of the capabilities object when you connect.</li>
<li>
<strong>Clear Button</strong>: Clears the display of all log data.</li>
</ul>

<h3 id="android-settings">Android Settings</h3>

<ul>
<li>
<strong>Application</strong>

<ul>
<li>
<strong>App Path</strong>: The path to the Android application (<code class="prettyprint">.apk</code>) you wish to test.</li>
<li>
<strong>Choose Button</strong>: Used to choose the path to your application.</li>
<li>
<strong>Package</strong>: Java package of the Android app to run (e.g. <code class="prettyprint">com.example.android.myApp</code>).</li>
<li>
<strong>Wait for Package</strong>: Package name for the Android activity to wait for.</li>
<li>
<strong>Activity</strong>: Activity name for the Android activity to launch from your package (e.g. <code class="prettyprint">MainActivity</code>).</li>
<li>
<strong>Wait for Activity</strong>: Activity name for the Android activity to wait for.</li>
<li>
<strong>Launch AVD</strong>: Selected AVD will be launched using the Android Emulator.</li>
<li>
<strong>Wait For Activity</strong>: Android Activity you wish Appium to wait for upon launch.</li>
<li>
<strong>Use Browser</strong>: Launch the specified Android browser (e.g. <code class="prettyprint">Chrome</code>).</li>
<li>
<strong>Full Reset</strong>: Reset app state by uninstalling app instead of clearing app data and also remove the app after the
session is complete.</li>
<li>
<strong>No Reset</strong>: Prevent the device from being reset.</li>
</ul>
</li>
<li>
<strong>Launch Device</strong>

<ul>
<li>
<strong>Launch AVD</strong>: Name of the AVD to launch.</li>
<li>
<strong>Device Ready Timeout</strong>: Timeout in seconds while waiting for device to become ready.</li>
<li>
<strong>Arguments</strong>: Additional emulator arguments to launch the avd.</li>
</ul>
</li>
<li>
<strong>Capabilities</strong>

<ul>
<li>
<strong>Platform Name</strong>: Name of the mobile platform.</li>
<li>
<strong>Automation Name</strong>: Name of the automation tool (Appium or Selendroid).</li>
<li>
<strong>Platform Version</strong>: Version of the mobile platform.</li>
<li>
<strong>Device Name</strong>: Name of the mobile device to use.</li>
<li>
<strong>Language</strong>: Language for the Emulator.</li>
<li>
<strong>Locale</strong>: Locale for the Emulator.</li>
</ul>
</li>
<li>
<strong>Advanced</strong>

<ul>
<li>
<strong>Android SDK Path</strong>: Path to Android SDK.</li>
<li>
<strong>Coverage Class</strong>: Fully qualified instrumentation class.</li>
<li>
<strong>Bootstrap Port</strong>: Port to use on device to talk to Appium.</li>
<li>
<strong>Selendroid Port</strong>: Local port used for communication with Selendroid.</li>
<li>
<strong>Chromedriver Port</strong>: Port upon which ChromeDriver will run.</li>
</ul>
</li>
<li>
<strong>Keystore Settings</strong>

<ul>
<li>
<strong>Use Custom Settings</strong>: When checked, the keystore will be used to sign apks.</li>
<li>
<strong>Keystore Path</strong>: Path to keystore.</li>
<li>
<strong>Keystore Password</strong>: Password to keystore.</li>
<li>
<strong>Key Alias</strong>: Key alias.</li>
<li>
<strong>Password</strong>: Key password.</li>
</ul>
</li>
</ul>

<h3 id="ios-settings">iOS Settings</h3>

<ul>
<li>
<strong>Application</strong>

<ul>
<li>
<strong>App Path</strong>: The path to the iOS application (<code class="prettyprint">.app</code>, <code class="prettyprint">.zip</code>, or <code class="prettyprint">.ipa</code>) you wish to test.</li>
<li>
<strong>Choose Button</strong>: Used to choose the path to your application.</li>
<li>
<strong>BundleID</strong>: The bundle ID for the application you wish Appium to use (e.g. <code class="prettyprint">com.yourCompany.yourApp</code>).</li>
<li>
<strong>Use Mobile Safari</strong>: This will make Appium start the Mobile Safari app instead of using a user-supplied application.
BundleID or App Path should both be unchecked when this option is used.</li>
</ul>
</li>
<li>
<strong>Device Settings</strong>

<ul>
<li>
<strong>Force Device</strong>: This will make Appium force the Simulator to iPhone or iPad mode.</li>
<li>
<strong>Platform Version</strong>: Version of the mobile platform.</li>
<li>
<strong>Force Orientation</strong>: Force the orientation of the Simulator.</li>
<li>
<strong>Force Language</strong>: Language for the Simulator.</li>
<li>
<strong>Force Calendar</strong>: Calendar format for the Simulator.</li>
<li>
<strong>Force Locale</strong>: Locale for the Simulator.</li>
<li>
<strong>UDID</strong>: This is the UDID for the mobile device on which you want to run Appium. If this box is checked, Appium will
use the attached iOS device. If this field is checked, bundle ID must be supplied and app path should be unchecked.</li>
<li>
<strong>Full Reset</strong>: Delete the entire simulator folder.</li>
<li>
<strong>No Reset</strong>: Don’t reset app state between sessions (don’t delete app plist files).</li>
<li>
<strong>Show Simulator Log</strong>: If checked, the iOS simulator log will be written to the console.</li>
</ul>
</li>
<li>
<strong>Advanced</strong>

<ul>
<li>
<strong>Use Native Instruments Library</strong>: Use the native Instruments library rather than the one included with Appium.</li>
<li><strong>Force Kill Unresponsive Instruments Processess</strong></li>
<li>
<strong>Backend Retries</strong>: How many times to retry launching Instruments before reporting that it crashed or timed out.</li>
<li>
<strong>Instruments Launch Timeout</strong>: How long in ms to wait for Instruments to launch.</li>
<li>
<strong>Trace Template Path</strong>: <code class="prettyprint">.tracetemplate</code> file to use with Instruments.</li>
<li>
<strong>Choose Button</strong>: Used to choose the trace template path.</li>
<li>
<strong>Xcode Path</strong>: Path to Xcode application.</li>
</ul>
</li>
</ul>

<h2 id="preference-guide">Preference Guide</h2>

<p>Preferences can be accessed by clicking on the appropriate button in the main window.</p>

<p><img title="Appium General Settings" alt="Appium Preferences" src="../../images/preferences.png"></p>

<h3 id="general-settings">General Settings</h3>

<ul>
<li>
<strong>Server</strong>

<ul>
<li>
<strong>Server Address</strong>: The IP address on which you want the Appium server to run (127.0.0.1 is localhost).</li>
<li>
<strong>Port</strong>: The port on which the Appium server will listen for WebDriver commands (4723 is the default).</li>
<li>
<strong>Use Remote Server Checkbox</strong>: Used to connect Appium Inpector to a server that is already running.</li>
<li>
<strong>Check For Updates</strong>: Appium will automatically check for updates when starting.</li>
<li>
<strong>Quiet Logging</strong>: Appium will log out limited information.</li>
<li>
<strong>Keep Artifacts</strong>: Appium will keep artifacts like <code class="prettyprint">.trace</code> files around after a session has ended.</li>
<li>
<strong>Reset Application State After Each Session</strong>: Appium will reset application state (e.g. delete user plists)
after each session.</li>
<li>
<strong>Prelaunch Application</strong>: Appium will prelaunch the application before beginning to listen for WebDriver
commands.</li>
<li>
<strong>Developer Mode</strong>: Will enable additional settings targeted at Appium project developers.</li>
</ul>
</li>
<li>
<strong>Logging</strong>

<ul>
<li>
<strong>Quiet Logging</strong>: Don’t use verbose logging output.</li>
<li>
<strong>Use Colors</strong>: Use colors in console output.</li>
<li>
<strong>Show Timestamps</strong>: Show timestamps in console output.</li>
<li>
<strong>Log to File</strong>: Send log output to this file.</li>
<li>
<strong>Log to WebHook</strong>: Send log output to this HTTP listener.</li>
<li>
<strong>Force Scroll Log to Bottom</strong>: Force the log to scroll to the bottom when there is new output, regardless of
the position.</li>
</ul>
</li>
</ul>

<h3 id="developer-settings">Developer Settings</h3>

<ul>
<li>
<strong>Enabled</strong>: If checked, developer settings will be observed.</li>
<li>
<strong>Use External NodeJS Binary</strong>: Appium will use the version of NodeJS supplied here instead of the one that ships
with the application.</li>
<li>
<strong>Use External Appium Package</strong>: Appium will use the version of the Appium package supplied here instead of the one
bundled with the application.</li>
<li>
<strong>NodeJS Debug Port</strong>: Port on which the NodeJS debugger will run.</li>
<li>
<strong>Break on Application Start</strong>: The NodeJS debug server will break at the application start. (equivalent to
supplying the debug-brk switch to node)</li>
<li>
<strong>Custom Server Flags</strong>: Custom flags to be used when starting the Appium server. This should only be used if there is
an option that cannot be adjusted using the Appium UI.</li>
</ul>

<h2 id="inspector-/-recorder">Inspector / Recorder</h2>

<p>Inspector can be accessed by clicking the magnifying glass next to the launch button once the Appium server has launched.
Appium must be running with an app open for inspector to work. Otherwise, it will not work.
<img title="Appium Inspector" alt="Appium Inspector" src="../../images/inspector.png"></p>

<h3 id="inspector-window">Inspector Window</h3>

<ul>
<li>
<strong>Show Invisible Filter</strong>: Elements which are not visible will be displayed in the DOM 3-column-view.</li>
<li>
<strong>Show Disabled Filter</strong>: Elements which are not enabled will be displayed in the DOM 3-column-view.</li>
<li>
<strong>Record Button</strong>: Opens the recording Panel and starts recording actions performed using controls in the Appium
Inspector.</li>
<li>
<strong>Refresh Button</strong>: Refreshes the DOM 3-column view and the screenshot.</li>
<li>
<strong>Screenshot Area</strong>: Displays the last screenshot taken for the app. You can click this area to select elements
in the DOM.</li>
<li>
<strong>Details Area</strong>: Displays details about the currently selected element.</li>
</ul>

<h3 id="action-palette">Action Palette</h3>

<p>The action pallete contains buttons that will trigger actions on the device under test. You can try out actions here
or enter them to be recorded.</p>

<ul>
<li>
<strong>Touch Section</strong>: Contains buttons to perform touch events like tapping and swiping.</li>
<li>
<strong>Text Section</strong>: Contains buttons to perform text events like typing and executing JavaScript.</li>
<li>
<strong>Alerts Section</strong>: Contains buttons to perform events on alerts and actionsheets.</li>
</ul>

<h3 id="recorder-drawer">Recorder Drawer</h3>

<p>The recorder draw contains the code generated by recorded actions you’ve performed while recording
is enabled.</p>

<ul>
<li>
<strong>Language Selection Dropdown</strong>: Changes the language your recorded actions are displayed in.</li>
<li>
<strong>Add Boilerplate Checkbox</strong>: Checking this block will display code used to setup the Selenium instance along
with code related to the actions you have recorded. Unchecking this box will only show only the code from the actions
you have recorded.</li>
<li>
<strong>XPath Only Checkbox</strong>: Checking this will cause all element identifiers to be created using XPath.</li>
<li>
<strong>Replay Button</strong>: Replays the actions that you have recorded.</li>
<li>
<strong>Undo Button</strong>: Deletes the last recorded action.</li>
<li>
<strong>Redo Button</strong>: Adds back the last undone action.</li>
<li>
<strong>Clear Button</strong>: Removes all recorded actions.</li>
</ul>

<h1 id="ios-predicate">
<span id="ios_predicate.md"></span>iOS Predicate</h1>

<p>I’d like to share my experience in using <em>‘-ios uiautomation’</em> search strategy with <strong>Predicates</strong>. After using Instruments/UIAutomation tool for a long time I paid attention on the following methods in <a href="https://developer.apple.com/library/ios/documentation/DeveloperTools/Reference/UIAutomationRef/_index.html">UIAutomation JavaScript API</a>:</p>
<pre class="highlight java"><span class="o">(</span><span class="n">UIAElement</span><span class="o">)</span> <span class="n">UIAElementArray</span><span class="o">.</span><span class="na">firstWithPredicate</span><span class="o">(</span><span class="n">PredicateString</span> <span class="n">predicateString</span><span class="o">)</span>
<span class="o">(</span><span class="n">UIAElementArray</span><span class="o">)</span> <span class="n">UIAElementArray</span><span class="o">.</span><span class="na">withPredicate</span><span class="o">(</span><span class="n">PredicateString</span> <span class="n">predicateString</span><span class="o">)</span>
</pre>

<p>And it turned out that native JS search strategy (powered by Apple) provides much more flexibility than I was thinking before, it is almost just like Xpath.
<strong><a href="https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/Predicates/predicates.html">Predicates</a></strong> can be used to restrict an elements set to select only those ones for which some condition is true.</p>

<p>For example:</p>
<pre class="highlight java"><span class="n">appiumDriver</span><span class="o">.</span><span class="na">findElementsByIosUIAutomation</span><span class="o">(</span><span class="s">"collectionViews()[0].cells().withPredicate(\"ANY staticTexts.isVisible == TRUE\")"</span><span class="o">)</span>
</pre>

<p>-  will select only those  <code class="prettyprint">UIACollectionCell</code> elements that have visible <code class="prettyprint">UIAStaticText</code> child elements, and themselves are childs of 1st <code class="prettyprint">UIACollectionView</code> element that should be located under the main app window.  Here <code class="prettyprint">staticTexts()</code> and <code class="prettyprint">isVisible()</code> are methods available in <code class="prettyprint">UIAElementArray</code> and <code class="prettyprint">UIAElement</code> classes respectively. <strong>Note that <code class="prettyprint">UIAElementArray</code> numbering begins with <code class="prettyprint">0</code> unlike Xpath where indexes counting starts from <code class="prettyprint">1</code></strong></p>

<p>Here’s a list of available Predicates (mostly taken from <a href="https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/Predicates/predicates.html">Predicates Programming Guide</a>)</p>

<h2 id="basic-comparisons">Basic Comparisons</h2>

<p>= , ==
- The left-hand expression is equal to the right-hand expression:
“`javascript
tableViews()<a href="http://software.intel.com/en-us/articles/intel-hardware-accelerated-execution-manager/">1</a>.cells().firstWithPredicate("label == ‘Olivia’ ”)</p>

<p>same in Xpath: /UIATableView[2]/UIATableCell<a href="http://software.intel.com/en-us/articles/intel-hardware-accelerated-execution-manager/">@label = ‘Olivia’</a>
“`</p>

<p>&gt;= , =&gt;
- The left-hand expression is greater than or equal to the right-hand expression.</p>

<p>&lt;= , =&lt;
- The left-hand expression is less than or equal to the right-hand expression.</p>

<p>&gt;
- The left-hand expression is greater than the right-hand expression.</p>

<p>&lt;
- The left-hand expression is less than the right-hand expression.</p>

<p>!= , &lt;&gt;
- The left-hand expression is not equal to the right-hand expression.</p>

<p>BETWEEN
- The left-hand expression is between, or equal to either of, the values specified in the right-hand side. The right-hand side is a two value array (an array is required to specify order) giving upper and lower bounds. For example, <code class="prettyprint">1 BETWEEN { 0 , 33 }</code>, or <code class="prettyprint">$INPUT BETWEEN { $LOWER, $UPPER }</code>.
In Objective-C, you could create a BETWEEN predicate as shown in the following example:</p>
<pre class="highlight plaintext">NSPredicate *betweenPredicate =
    [NSPredicate predicateWithFormat: @"attributeName BETWEEN %@", @[@1, @10]];
</pre>

<p>This creates a predicate that matches <code class="prettyprint">( ( 1 &lt;= attributeValue ) &amp;&amp; ( attributeValue &lt;= 10 ) )</code></p>

<h2 id="boolean-value-predicates">Boolean Value Predicates</h2>

<p>TRUEPREDICATE
- A predicate that always evaluates to <code class="prettyprint">TRUE</code> .</p>

<p>FALSEPREDICATE
- A predicate that always evaluates to <code class="prettyprint">FALSE</code>.</p>

<h2 id="basic-compound-predicates">Basic Compound Predicates</h2>

<p>AND , &amp;&amp;
- Logical AND.</p>

<p>OR , ||
- Logical OR.</p>

<p>NOT , !
- Logical NOT.</p>

<h2 id="string-comparisons">String Comparisons</h2>

<p>String comparisons are by default case and diacritic sensitive. You can modify an operator using the key characters <code class="prettyprint">c</code> and <code class="prettyprint">d</code> within square braces to specify case and diacritic insensitivity respectively, for example <code class="prettyprint">firstName BEGINSWITH[cd] $FIRST_NAME</code></p>

<p>BEGINSWITH
- The left-hand expression begins with the right-hand expression.</p>
<pre class="highlight javascript"><span class="nx">scrollViews</span><span class="p">()[</span><span class="mi">3</span><span class="p">].</span><span class="nx">buttons</span><span class="p">().</span><span class="nx">firstWithPredicate</span><span class="p">(</span><span class="s2">"name BEGINSWITH 'results toggle' "</span><span class="p">)</span>

<span class="nx">same</span> <span class="k">in</span> <span class="nx">Xpath</span><span class="err">:</span> <span class="o">/</span><span class="nx">UIAScrollView</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">/</span><span class="nx">UIAButton</span><span class="p">[</span><span class="nx">starts</span><span class="o">-</span><span class="kd">with</span><span class="p">(</span><span class="err">@</span><span class="nx">name</span><span class="p">,</span> <span class="s1">'results toggle'</span><span class="p">)][</span><span class="mi">1</span><span class="p">]</span>
</pre>

<p>CONTAINS
- The left-hand expression contains the right-hand expression.</p>
<pre class="highlight javascript"><span class="nx">tableViews</span><span class="p">()[</span><span class="mi">1</span><span class="p">].</span><span class="nx">cells</span><span class="p">().</span><span class="nx">withPredicate</span><span class="p">(</span><span class="s2">"ANY collectionViews[0].buttons.name CONTAINS 'opera'"</span><span class="p">)</span>

<span class="nx">same</span> <span class="k">in</span> <span class="nx">Xpath</span><span class="err">:</span> <span class="o">/</span><span class="nx">UIATableView</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="nx">UIATableCell</span><span class="p">[</span><span class="nx">UIACollectionView</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="nx">UIAButton</span><span class="p">[</span><span class="nx">contains</span><span class="p">(</span><span class="err">@</span><span class="nx">name</span><span class="p">,</span> <span class="s1">'opera'</span><span class="p">)]]</span>
</pre>

<p>ENDSWITH
- The left-hand expression ends with the right-hand expression.</p>

<p>LIKE
- The left hand expression equals the right-hand expression: ? and * are allowed as wildcard characters, where ? matches 1 character and * matches 0 or more characters. In Mac OS X v10.4, wildcard characters do not match newline characters.</p>
<pre class="highlight javascript"><span class="nx">tableViews</span><span class="p">()[</span><span class="mi">0</span><span class="p">].</span><span class="nx">cells</span><span class="p">().</span><span class="nx">firstWithPredicate</span><span class="p">(</span><span class="s2">"name LIKE '*Total: $*' "</span><span class="p">)</span>

<span class="nx">same</span> <span class="k">in</span> <span class="nx">Xpath</span><span class="err">:</span> <span class="o">/</span><span class="nx">UIATableView</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="nx">UIATableCell</span><span class="p">[</span><span class="nx">matches</span><span class="p">(</span><span class="err">@</span><span class="nx">name</span><span class="p">,</span> <span class="s1">'.*Total: \$.*'</span><span class="p">)][</span><span class="mi">1</span><span class="p">]</span>
</pre>

<p>MATCHES
- The left hand expression equals the right hand expression using a regex -style comparison according to ICU v3 (for more details see the ICU User Guide for <a href="http://userguide.icu-project.org/strings/regexp">Regular Expressions</a>).</p>
<pre class="highlight javascript"><span class="nx">tableViews</span><span class="p">().</span><span class="nx">firstWithPredicate</span><span class="p">(</span><span class="s2">"value MATCHES '.*of 7' "</span><span class="p">)</span>

<span class="nx">same</span> <span class="k">in</span> <span class="nx">Xpath</span><span class="err">:</span> <span class="o">/</span><span class="nx">UIATableView</span><span class="p">[</span><span class="nx">matches</span><span class="p">(</span><span class="err">@</span><span class="nx">value</span><span class="p">,</span> <span class="s1">'.*of 7'</span><span class="p">)][</span><span class="mi">1</span><span class="p">]</span>
</pre>

<h2 id="aggregate-operations">Aggregate Operations</h2>

<p>ANY , SOME
- Specifies any of the elements in the following expression. For example <code class="prettyprint">ANY children.age &lt; 18</code> .</p>
<pre class="highlight javascript"><span class="nx">tableViews</span><span class="p">()[</span><span class="mi">0</span><span class="p">].</span><span class="nx">cells</span><span class="p">().</span><span class="nx">firstWithPredicate</span><span class="p">(</span><span class="s2">"SOME staticTexts.name = 'red'"</span><span class="p">).</span><span class="nx">staticTexts</span><span class="p">().</span><span class="nx">withName</span><span class="p">(</span><span class="s1">'red'</span><span class="p">)</span>

<span class="nx">same</span> <span class="k">in</span> <span class="nx">Xpath</span><span class="err">:</span> <span class="o">/</span><span class="nx">UIATableView</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="nx">UIATableCell</span><span class="p">[</span><span class="nx">UIAStaticText</span><span class="o">/</span><span class="err">@</span><span class="nx">name</span> <span class="o">=</span> <span class="s1">'red'</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="nx">UIAStaticText</span><span class="p">[</span><span class="err">@</span><span class="nx">name</span> <span class="o">=</span> <span class="s1">'red'</span><span class="p">]</span>
</pre>

<p>ALL
- Specifies all of the elements in the following expression. For example <code class="prettyprint">ALL children.age &lt; 18</code> .</p>

<p>NONE
- Specifies none of the elements in the following expression. For example, <code class="prettyprint">NONE children.age &lt; 18</code> . This is logically equivalent to <code class="prettyprint">NOT (ANY ...)</code> .</p>

<p>IN
- Equivalent to an SQL IN operation, the left-hand side must appear in the collection specified by the right-hand side. For example, <code class="prettyprint">name IN { 'Ben', 'Melissa', 'Matthew' }</code> . The collection may be an array, a set, or a dictionary—in the case of a dictionary, its values are used.</p>

<p>array[index]
- Specifies the element at the specified index in the array.</p>

<p>array[FIRST]
- Specifies the first element in the array.</p>

<p>array[LAST]
- Specifies the last element in the array.</p>

<p>array[SIZE]
- Specifies the size of the array
”`javascript
elements()[0].tableViews()[0].cells().withPredicate(“staticTexts[SIZE] &gt; 2”)</p>

<p>same in Xpath: /*<a href="http://software.intel.com/en-us/articles/intel-hardware-accelerated-execution-manager/">1</a>/UIATableView<a href="http://software.intel.com/en-us/articles/intel-hardware-accelerated-execution-manager/">1</a>/UIATableCell[count(UIAStaticText) &gt; 2]
“`</p>

<h2 id="identifiers">Identifiers</h2>

<p><strong>C style identifier</strong>
- Any C style identifier that is not a reserved word.</p>

<p><strong>#symbol</strong>
- Used to escape a reserved word into a user identifier.</p>

<p><strong>[\]{octaldigit}{3}</strong>
- Used to escape an octal number ( <code class="prettyprint">\</code> followed by 3 octal digits).</p>

<p><strong>[\][xX]{hexdigit}{2}</strong>
- Used to escape a hex number ( <code class="prettyprint">\x</code> or <code class="prettyprint">\X</code> followed by 2 hex digits).</p>

<p><strong>[\][uU]{hexdigit}{4}</strong>
- Used to escape a Unicode number ( <code class="prettyprint">\u</code> or <code class="prettyprint">\U</code> followed by 4 hex digits).</p>

<h2 id="literals">Literals</h2>

<p>Single and double quotes produce the same result, but they do not terminate each other. For example, <code class="prettyprint">"abc"</code> and <code class="prettyprint">'abc'</code> are identical, whereas <code class="prettyprint">"a'b'c"</code> is equivalent to a space-separated concatenation of <code class="prettyprint">a, 'b', c</code>.</p>

<p>FALSE , NO
- Logical false.</p>

<p>TRUE , YES
- Logical true.</p>

<p>NULL , NIL
- A null value.</p>

<p>SELF
- Represents the object being evaluated.</p>

<p>"text”
- A character string.</p>

<p>‘text’
- A character string.</p>

<p><strong>Comma-separated literal array</strong>
- For example, <code class="prettyprint">{ 'comma', 'separated', 'literal', 'array' }</code> .</p>

<p><strong>Standard integer and fixed-point notations</strong>
- For example, <code class="prettyprint">1 , 27 , 2.71828 , 19.75</code> .</p>

<p><strong>Floating-point notation with exponentiation</strong>
- For example, <code class="prettyprint">9.2e-5</code> .</p>

<p>0x
- Prefix used to denote a hexadecimal digit sequence.</p>

<p>0o
- Prefix used to denote an octal digit sequence.</p>

<p>0b
- Prefix used to denote a binary digit sequence.</p>

<h2 id="reserved-words">Reserved Words</h2>

<p>The following words are reserved:</p>

<p><code class="prettyprint">AND, OR, IN, NOT, ALL, ANY, SOME, NONE, LIKE, CASEINSENSITIVE, CI, MATCHES, CONTAINS, BEGINSWITH, ENDSWITH, BETWEEN, NULL, NIL, SELF, TRUE, YES, FALSE, NO, FIRST, LAST, SIZE, ANYKEY, SUBQUERY, CAST, TRUEPREDICATE, FALSEPREDICATE</code></p>

<h2 id="appium-predicate-helpers">Appium predicate helpers</h2>

<p>Appium has <a href="https://github.com/appium/appium-uiauto/blob/3052dace828db2ab3d722281fb7853cbcbc3252f/uiauto/appium/app.js#L68">helpers for predicate search</a> in app.js:</p>

<ul>
<li><code class="prettyprint">getFirstWithPredicate</code></li>
<li><code class="prettyprint">getFirstWithPredicateWeighted</code></li>
<li><code class="prettyprint">getAllWithPredicate</code></li>
<li><code class="prettyprint">getNameContains</code></li>
</ul>

<p>Here’s a Ruby example:</p>
<pre class="highlight ruby"><span class="c1"># Ruby example</span>
<span class="n">text</span> <span class="o">=</span> <span class="s1">'Various uses'</span>
<span class="n">predicate</span> <span class="o">=</span> <span class="s2">"name contains[c] '</span><span class="si">#{</span><span class="n">text</span><span class="si">}</span><span class="s2">' || label contains[c] '</span><span class="si">#{</span><span class="n">text</span><span class="si">}</span><span class="s2">' || value contains[c] '</span><span class="si">#{</span><span class="n">text</span><span class="si">}</span><span class="s2">'"</span>
<span class="n">element</span> <span class="o">=</span> <span class="n">execute_script</span><span class="p">(</span><span class="sx">%Q(au.mainApp().getFirstWithPredicate("</span><span class="si">#{</span><span class="n">predicate</span><span class="si">}</span><span class="sx">");)</span><span class="p">)</span>

<span class="nb">puts</span> <span class="n">element</span><span class="p">.</span><span class="nf">name</span> <span class="c1"># Buttons, Various uses of UIButton</span>
</pre>

      </div>
      <div class="dark-box">
          <div id="lang-selector">
                <a href="#" data-language-name="ruby">Ruby</a>
                <a href="#" data-language-name="python">Python</a>
                <a href="#" data-language-name="java">Java</a>
                <a href="#" data-language-name="javascript">JavaScript</a>
                <a href="#" data-language-name="php">PHP</a>
                <a href="#" data-language-name="csharp">C#</a>
          </div>
      </div>
    </div>
  </body>
</html>
